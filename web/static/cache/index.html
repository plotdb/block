<!DOCTYPE html><html><head><base href="/"><style type="text/css">h2:before{display:block;position:static;content:"( global style )";font-size:12px;font-weight:200}</style><link rel="stylesheet" type="text/css" href="assets/lib/bootstrap/main/dist/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/@loadingio/bootstrap.ext/main/index.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/ldiconfont/main/ldif.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/ldcover/main/index.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/ldbutton/main/index.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/ldloader/main/index.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/@loadingio/loading.css/main/loading.min.css"><link rel="stylesheet" type="text/css" href="css/index.css"></head><body><template><div class="border p-4 m-2 rounded" block="@plotdb/sample1@main:index.html"><h2>inline template</h2><p>this is generated from a block inlined in HTML inside a template tag.</p></div><div class="border p-4 m-2 rounded" block="@plotdb/sample2@main:index.html"><h2>inline template ( alt )</h2><p>this is generated from yet another block inlined in HTML inside a template tag.</p></div><style type="@plotdb/block">[scope=_QHBsb3RkYi9zYW1wbGUxQG1haW46aW5kZXguaHRtbA__] h2 { color: #942 }
[scope=_QHBsb3RkYi9zYW1wbGUyQG1haW46aW5kZXguaHRtbA__] h2 { color: #38c }</style><script type="text/javascript">document.currentScript["import"](function(){return{"@plotdb/sample1@main/index.html":{init:function(){return console.log("@plotdb/sample1@main loaded")},interface:function(){return{name:1}}},"@plotdb/sample2@main/index.html":{init:function(){return console.log("@plotdb/sample1@main loaded")},interface:function(){return{name:2}}}}});</script></template><div class="w-1024 rwd mx-auto my-4"><div class="mb-4 d-flex" style="gap:1em"><div class="btn btn-outline-secondary" ld="download">Bundle</div><div class="btn btn-outline-secondary btn-upload">Debundle <input ld="upload" type="file"></div></div><div class="d-flex" style="gap:1em"><div class="rounded shadow-sm border p-4 flex-grow-1" id="left" style="width:50%"></div><div class="rounded shadow-sm border p-4 flex-grow-1" id="right" style="width:50%"></div></div></div><script type="text/javascript" src="assets/lib/proxise/main/index.min.js" defer></script><script type="text/javascript" src="assets/lib/@loadingio/ldquery/main/index.min.js" defer></script><script type="text/javascript" src="assets/lib/@plotdb/json0/main/dist/json0.min.js" defer></script><script type="text/javascript" src="assets/lib/bootstrap.native/main/dist/bootstrap-native-v4.min.js" defer></script><script type="text/javascript" src="assets/lib/@loadingio/debounce.js/main/index.min.js" defer></script><script type="text/javascript" src="assets/lib/ldcover/main/index.min.js" defer></script><script type="text/javascript" src="assets/lib/ldloader/main/index.min.js" defer></script><script type="text/javascript" src="assets/lib/ldview/main/index.min.js" defer></script><script type="text/javascript" src="assets/lib/@plotdb/datadom/main/datadom.min.js" defer></script><script type="text/javascript" src="assets/lib/@plotdb/csscope/main/index.min.js" defer></script><script type="text/javascript" src="assets/lib/@plotdb/rescope/main/index.min.js" defer></script><script type="text/javascript" src="assets/lib/dompurify/main/purify.min.js" defer></script><script type="text/javascript" src="assets/lib/@plotdb/block/dev/index.js" defer></script><script type="text/javascript" src="/assets/lib/ldfile/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/semver/main/index.min.js" defer></script><script type="module">(function(n){return n.apply({})})(function(){var n,t,e,r,o,i,u,a,l;n=[window,window.document],t=n[0],e=n[1];r={left:ld$.find("#left",0),right:ld$.find("#right",0)};o=new block.manager({registry:function(n){var t,e,r,o;t=n.name,e=n.version,r=n.path,o=n.type;return"/block/"+t+"/"+e+"/"+(r||"index.html")}});i=new block.manager({registry:function(n){var t,e,r,o;t=n.name,e=n.version,r=n.path,o=n.type;return"/block/"+t+"/"+e+"/"+(r||"index.html")}});u=function(){console.log("bundling ...");return o.bundle({blocks:[{name:"cta",version:"0.0.1"},{name:"long-answer",version:"0.0.1"},{name:"sample",version:"0.0.1"}]}).then(function(n){return ldfile.download({data:n,name:"bundled-blocks.html"})})};a=function(n,t,e){t==null&&(t=r.left);e==null&&(e=o);return e.get(n).then(function(n){return n.create().then(function(n){return n.attach({root:t}).then(function(){return n["interface"]()})})})};o.debundle({root:ld$.find("template",0)}).then(function(){o.get({name:"@plotdb/sample1",version:"main",path:"index.html"}).then(function(n){return n.create().then(function(n){return n.attach({root:r.left}).then(function(){return n["interface"]()})})});return o.get({name:"@plotdb/sample2",version:"main",path:"index.html"}).then(function(n){return n.create().then(function(n){return n.attach({root:r.left}).then(function(){return n["interface"]()})})})});return l=new ldview({root:document.body,action:{change:{upload:function(n){var t,e;t=n.node,e=n.evt;return ldfile.fromFile(t.files[0],"text","utf-8").then(function(n){return i.debundle({code:n.result})}).then(function(){}).then(function(){return a({name:"cta",version:"0.0.1",path:"index.html"},r.right)}).then(function(){return a({name:"long-answer",version:"0.0.1",path:"index.html"},r.right)})}},click:{download:function(){return u()}}}})});</script></body></html>