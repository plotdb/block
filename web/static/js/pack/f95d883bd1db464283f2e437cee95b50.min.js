(function(){var n,e;n=function(n,e,t){return n.splice(0,n.length).map(function(n){if(n[t](e),n.timeout)return clearTimeout(n.timeout)})},(e=function(e,t){var i,r,o,u,l;return i=e instanceof Function?[e,t||0]:[t,e||0],r=i[0],o=i[1],u=[],l=function(){var n,e,t,i,l,f,c;for(e=[],t=0,i=arguments.length;t<i;++t)e.push(arguments[t]);return n=e,(l=r.apply(this,n))instanceof Promise?l:(f=null,c=o?setTimeout(function(){var n;if(f&&~(n=u.indexOf(f)))return u.splice(n,1),f.rej(new Error("timeout"))},o):null,new Promise(function(n,e){return u.push(f={res:n,rej:e,timeout:c})}))},l.resolve=function(e){return n(u,e,"res")},l.reject=function(e){return n(u,e,"rej")},l}).once=function(n,t){var i,r;return i={},r=e(function(){var e,o,u,l,f=this;for(o=[],u=0,l=arguments.length;u<l;++u)o.push(arguments[u]);return e=o,i.inited?Promise.resolve(null==t?i.val:"function"==typeof t?t():t):i.initing?void 0:(i.initing=!0,Promise.resolve().then(function(){return n.apply(f,e)}).finally(function(){return i.initing=!1}).then(function(n){return i.inited=!0,r.resolve(n=null==t?i.val=n:"function"==typeof t?t():t),n}).catch(function(n){return r.reject(n),Promise.reject(n)}))})},"undefined"!=typeof module&&null!==module?module.exports=e:"undefined"!=typeof window&&null!==window&&(window.proxise=e)}).call(this);
!function(){var d,t,s,e,n,u,h,a;if(null==s){for(e in d=function(e,t,n){var r=new Error(e+" "+t);return r.data=t,r.json=n,r.id=e,r.code=e,r.name="lderror",r.message=t,r},s=function(e){return new t(e)},n=(t=function(e){return c(e,t.prototype)}).prototype={find:function(t,n){var r,e,o;if((r=this).querySelector||(r=(e=[document,r.toString(),t])[0],t=e[1],n=e[2]),t instanceof HTMLElement)return t;try{return 0===n?r.querySelector(t):(o=Array.from(r.querySelectorAll(t)),n?o[n]:o)}catch(e){throw o=e,console.warn("ld$.find exception: "+t+" / "+n+" under ",r),o}},index:function(){return Array.from(this.parentNode.childNodes).indexOf(this)},child:function(){return Array.from(this.childNodes)},parent:function(e,t){var n;for(null==t&&(t=null),n=this;n&&n!==t;)n=n.parentNode;if(n!==t)return null;if(!e)return this;for(n=this;n&&n!==t&&(!n.matches||n.matches&&!n.matches(e));)n=n.parentNode;return n!==t||t&&t.matches&&t.matches(e)?n:null},cls:function(e,t,n){var r,o,u,s,i,a,c,l=[],f=[],d=this;if("object"==typeof e){for(r in e)o=e[r],l.push(this.classList[o?"add":"remove"](r));return l}for(u=0,i=(s=[[t,!!e],[n,!e]]).length;u<i;++u)c=(a=s[u])[0],o=a[1],f.push((Array.isArray(c)?c:[c]).map(h));return f;function h(e){return d.classList.toggle(e,o)}},attr:function(e,t){var n,r=[];if("object"!=typeof e)return null==t?this.getAttribute(e):this.setAttribute(e,t);for(n in e)t=e[n],r.push(this.setAttribute(n,t));return r},on:function(e,t){return this.addEventListener(e,t)},remove:function(){if(this.parentNode)return this.parentNode.removeChild(this)},insertAfter:function(e,t){return this.insertBefore(e,t.nextSibling)}})!function(e,u){s[e]=function(e){for(var t,n=[],r=1,o=arguments.length;r<o;++r)n.push(arguments[r]);return t=n,u.apply(e,t)}}(e,n[e]);u={svg:"http://www.w3.org/2000/svg"},h=function(e,t,n){var r,o,u,t=c({},t);return n.json&&(t.body=JSON.stringify(n.json),(t.headers||(t.headers={}))["Content-Type"]="application/json; charset=UTF-8"),(r=n.params)&&(e+="?"+function(){var e,t=[];for(o in e=r)u=e[o],t.push(o+"="+encodeURIComponent(u));return t}().join("&")),s.fetch.headers&&!n.noDefaultHeaders&&c(t.headers||(t.headers={}),s.fetch.headers),{c:t,u:e}},c(s,{json:function(t){try{return JSON.parse(t)}catch(e){return t}},fetch:function(u,s,i){return null==s&&(s={}),null==i&&(i={}),new Promise(function(e,r){var t=h(u,s,i),n=t.u,t=t.c,o=setTimeout(function(){return r(d(1006,"timeout")),o=null},i.timeout||4e4);return a(n,t).then(function(n){if(o)return clearTimeout(o),n&&n.ok?e(null!=i.type?n[i.type]():n):n.clone().text().then(function(e){var t;try{if((t=JSON.parse(e))&&"lderror"===t.name)return r(c(d(n.status,e),t))}catch(e){t=null}return r(d(n.status,e,t))})}).catch(function(e){return clearTimeout(o),r(e)})})},create:function(n){var r,o,t=n.ns?document.createElementNS(u[n.ns]||n.ns,n.name):document.createElement(n.name);return n.style&&c(t.style,n.style),n.attr&&function(){var e,t=[];for(r in e=n.attr)o=e[r],t.push([r,o]);return t}().map(function(e){return t.setAttribute(e[0],e[1])}),n.className&&t.classList.add.apply(t.classList,n.className),n.text&&t.appendChild(document.createTextNode(n.text)),n.html&&(t.innerHTML=n.html),t}}),s.xhr=function(c,l,f){return null==l&&(l={}),null==f&&(f={}),new Promise(function(t,n){var e,r,o,u=h(c,l,f),s=u.u,i=u.c,a=new XMLHttpRequest;for(r in a.onreadystatechange=function(){var e;if(a.readyState===XMLHttpRequest.DONE){if(200!==a.status)return n(d(a.status,a.responseText));try{e="json"===f.type?JSON.parse(a.responseText):a.responseText}catch(e){return n(d(a.status,a.responseText))}return t(e)}},a.onloadstart=function(){return f.progress({percent:0,val:0,len:0})},f.progress&&(e=function(e){var t=[e.loaded,e.total],e=t[0],t=t[1];return f.progress({percent:e/t,val:e,len:t})},a.upload?a.upload.onprogress=e:a.onprogress=e),a.open(i.method||"GET",s,!0),u=i.headers||{})o=u[r],a.setRequestHeader(r,o);return a.send(i.body)})},s.fetch.headers={},"undefined"!=typeof window&&null!==window&&(window.ld$=s,a=window.fetch),"undefined"!=typeof module&&null!==module&&(null==a&&(a=require("node-fetch")),module.exports=s)}function c(e,t){var n,r={}.hasOwnProperty;for(n in t)r.call(t,n)&&(e[n]=t[n]);return e}}.call(this);
require=function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({"regexp.prototype.flags":[function(require,module,exports){(function(){module.exports=function(o){var ret;ret="";if(o.global){ret+="g"}if(o.ignoreCase){ret+="i"}if(o.multiline){ret+="m"}if(o.dotAll){ret+="s"}if(o.unicode){ret+="u"}if(o.sticky){ret+="y"}return ret}}).call(this)},{}]},{},[]);
require=function(require){var exposedRequire=function exposedRequire(e,r){return exposedRequire.m.hasOwnProperty(e)?exposedRequire.m[e]:"function"!=typeof require||r?"function"==typeof exposedRequire.r?exposedRequire.r(e,1):void 0:require(e,1)};exposedRequire.m={};exposedRequire.r=require;function bootstrapTransform(r,t,n,e){var l=r.transformX=function(r,o){n(r),n(o);for(var f,a,h,g=[],i=0;i<o.length;i++){for(var u=o[i],s=[],v=0;v<r.length;){var m=[];if(f=r[v],h=m,t(s,f,a=u,"left"),t(h,a,f,"right"),v++,1!==m.length){if(0===m.length){for(var b=v;b<r.length;b++){e(s,r[b])}u=null;break}for(var c=l(r.slice(v),m),p=0;p<c[0].length;p++){e(s,c[0][p])}for(var k=0;k<c[1].length;k++){e(g,c[1][k])}u=null;break}u=m[0]}null!=u&&e(g,u),r=s}return[r,g]};r.transform=function(r,n,e){if("left"!==e&&"right"!==e){throw new Error("type must be 'left' or 'right'")}return 0===n.length?r:1===r.length&&1===n.length?t([],r[0],n[0],e):"left"===e?l(r,n)[0]:l(n,r)[1]}}var _$bootstrapTransform_1=bootstrapTransform;var _$text0_3={};var text=_$text0_3={name:"text0",uri:"http://sharejs.org/types/textv0",create:function(e){if(null!=e&&"string"!=typeof e){throw new Error("Initial data must be a string")}return e||""}},strInject=function(e,n,t){return e.slice(0,n)+t+e.slice(n)},checkValidComponent=function(e){if("number"!=typeof e.p){throw new Error("component missing position field")}if("string"==typeof e.i==("string"==typeof e.d)){throw new Error("component needs an i or d field")}if(e.p<0){throw new Error("position cannot be negative")}},checkValidOp=function(e){for(var n=0;n<e.length;n++){checkValidComponent(e[n])}};text.apply=function(e,n){var t;checkValidOp(n);for(var p=0;p<n.length;p++){var r=n[p];if(null!=r.i){e=strInject(e,r.p,r.i)}else{if(t=e.slice(r.p,r.p+r.d.length),r.d!==t){throw new Error("Delete component '"+r.d+"' does not match deleted text '"+t+"'")}e=e.slice(0,r.p)+e.slice(r.p+r.d.length)}}return e};var append=text._append=function(e,n){if(""!==n.i&&""!==n.d){if(0===e.length){e.push(n)}else{var t=e[e.length-1];null!=t.i&&null!=n.i&&t.p<=n.p&&n.p<=t.p+t.i.length?e[e.length-1]={i:strInject(t.i,n.p-t.p,n.i),p:t.p}:null!=t.d&&null!=n.d&&n.p<=t.p&&t.p<=n.p+n.d.length?e[e.length-1]={d:strInject(n.d,t.p-n.p,t.d),p:n.p}:e.push(n)}}};text.compose=function(e,n){checkValidOp(e),checkValidOp(n);for(var t=e.slice(),p=0;p<n.length;p++){append(t,n[p])}return t},text.normalize=function(e){var n=[];null==e.i&&null==e.p||(e=[e]);for(var t=0;t<e.length;t++){var p=e[t];null==p.p&&(p.p=0),append(n,p)}return n};var transformPosition=function(e,n,t){return null!=n.i?n.p<e||n.p===e&&t?e+n.i.length:e:e<=n.p?e:e<=n.p+n.d.length?n.p:e-n.d.length};text.transformCursor=function(e,n,t){for(var p="right"===t,r=0;r<n.length;r++){e=transformPosition(e,n[r],p)}return e};var transformComponent=text._tc=function(e,n,t,p){if(checkValidComponent(n),checkValidComponent(t),null!=n.i){append(e,{i:n.i,p:transformPosition(n.p,t,"right"===p)})}else if(null!=t.i){var r=n.d;n.p<t.p&&(append(e,{d:r.slice(0,t.p-n.p),p:n.p}),r=r.slice(t.p-n.p)),""!==r&&append(e,{d:r,p:n.p+t.i.length})}else if(n.p>=t.p+t.d.length){append(e,{d:n.d,p:n.p-t.d.length})}else if(n.p+n.d.length<=t.p){append(e,n)}else{var i={d:"",p:n.p};n.p<t.p&&(i.d=n.d.slice(0,t.p-n.p)),n.p+n.d.length>t.p+t.d.length&&(i.d+=n.d.slice(t.p+t.d.length-n.p));var o=Math.max(n.p,t.p),l=Math.min(n.p+n.d.length,t.p+t.d.length);if(n.d.slice(o-n.p,l-n.p)!==t.d.slice(o-t.p,l-t.p)){throw new Error("Delete ops delete different text in the same region of the document")}""!==i.d&&(i.p=transformPosition(i.p,t),append(e,i))}return e},invertComponent=function(e){return null!=e.i?{d:e.i,p:e.p}:{i:e.d,p:e.p}};text.invert=function(e){e=e.slice().reverse();for(var n=0;n<e.length;n++){e[n]=invertComponent(e[n])}return e},_$bootstrapTransform_1(text,transformComponent,checkValidOp,append);var _$json0_2={};var isArray=function(o){return"[object Array]"==Object.prototype.toString.call(o)},isObject=function(o){return!!o&&o.constructor===Object},clone=function(o){return JSON.parse(JSON.stringify(o))},json={name:"json0",uri:"http://sharejs.org/types/JSONv0"},subtypes={};function convertFromText(o){o.t="text0";var n={p:o.p.pop()};null!=o.si&&(n.i=o.si),null!=o.sd&&(n.d=o.sd),o.o=[n]}function convertToText(o){o.p.push(o.o[0].p),null!=o.o[0].i&&(o.si=o.o[0].i),null!=o.o[0].d&&(o.sd=o.o[0].d),delete o.t,delete o.o}json.registerSubtype=function(o){subtypes[o.name]=o},json.create=function(o){return void 0===o?null:clone(o)},json.invertComponent=function(o){var n={p:o.p};return o.t&&subtypes[o.t]&&(n.t=o.t,n.o=subtypes[o.t].invert(o.o)),void 0!==o.si&&(n.sd=o.si),void 0!==o.sd&&(n.si=o.sd),void 0!==o.oi&&(n.od=o.oi),void 0!==o.od&&(n.oi=o.od),void 0!==o.li&&(n.ld=o.li),void 0!==o.ld&&(n.li=o.ld),void 0!==o.na&&(n.na=-o.na),void 0!==o.lm&&(n.lm=o.p[o.p.length-1],n.p=o.p.slice(0,o.p.length-1).concat([o.lm])),n},json.invert=function(o){for(var n=o.slice().reverse(),e=[],i=0;i<n.length;i++){e.push(json.invertComponent(n[i]))}return e},json.checkValidOp=function(o){for(var n=0;n<o.length;n++){if(!isArray(o[n].p)){throw new Error("Missing path")}}},json.checkList=function(o){if(!isArray(o)){throw new Error("Referenced element not a list")}},json.checkObj=function(o){if(!isObject(o)){throw new Error("Referenced element not an object (it was "+JSON.stringify(o)+")")}},json.apply=function(o,n){json.checkValidOp(n),n=clone(n);for(var e={data:o},i=0;i<n.length;i++){var l=n[i];null==l.si&&null==l.sd||convertFromText(l);for(var t=null,r=e,s="data",p=0;p<l.p.length;p++){var d=l.p[p];if(t=r,s,r=r[s],s=d,null==t){throw new Error("Path invalid")}}if(l.t&&void 0!==l.o&&subtypes[l.t]){r[s]=subtypes[l.t].apply(r[s],l.o)}else if(void 0!==l.na){if("number"!=typeof r[s]){throw new Error("Referenced element not a number")}r[s]+=l.na}else if(void 0!==l.li&&void 0!==l.ld){json.checkList(r),r[s]=l.li}else if(void 0!==l.li){json.checkList(r),r.splice(s,0,l.li)}else if(void 0!==l.ld){json.checkList(r),r.splice(s,1)}else if(void 0!==l.lm){if(json.checkList(r),l.lm!=s){var u=r[s];r.splice(s,1),r.splice(l.lm,0,u)}}else if(void 0!==l.oi){json.checkObj(r),r[s]=l.oi}else{if(void 0===l.od){throw new Error("invalid / missing instruction in op")}json.checkObj(r),delete r[s]}}return e.data},json.shatter=function(o){for(var n=[],e=0;e<o.length;e++){n.push([o[e]])}return n},json.incrementalApply=function(o,n,e){for(var i=0;i<n.length;i++){var l=[n[i]];e(l,o=json.apply(o,l))}return o};var pathMatches=json.pathMatches=function(o,n,e){if(o.length!=n.length){return!1}for(var i=0;i<o.length;i++){if(o[i]!==n[i]&&(!e||i!==o.length-1)){return!1}}return!0};json.append=function(o,n){if(n=clone(n),0!==o.length){var e=o[o.length-1];if(null==n.si&&null==n.sd||null==e.si&&null==e.sd||(convertFromText(n),convertFromText(e)),pathMatches(n.p,e.p)){if(n.t&&e.t&&n.t===e.t&&subtypes[n.t]){if(e.o=subtypes[n.t].compose(e.o,n.o),null!=n.si||null!=n.sd){for(var i=n.p,l=0;l<e.o.length-1;l++){n.o=[e.o.pop()],n.p=i.slice(),convertToText(n),o.push(n)}convertToText(e)}}else{null!=e.na&&null!=n.na?o[o.length-1]={p:e.p,na:e.na+n.na}:void 0!==e.li&&void 0===n.li&&n.ld===e.li?void 0!==e.ld?delete e.li:o.pop():void 0!==e.od&&void 0===e.oi&&void 0!==n.oi&&void 0===n.od?e.oi=n.oi:void 0!==e.oi&&void 0!==n.od?void 0!==n.oi?e.oi=n.oi:void 0!==e.od?delete e.oi:o.pop():void 0!==n.lm&&n.p[n.p.length-1]===n.lm||o.push(n)}}else{null==n.si&&null==n.sd||null==e.si&&null==e.sd||(convertToText(n),convertToText(e)),o.push(n)}}else{o.push(n)}},json.compose=function(o,n){json.checkValidOp(o),json.checkValidOp(n);for(var e=clone(o),i=0;i<n.length;i++){json.append(e,n[i])}return e},json.normalize=function(o){var n=[];o=isArray(o)?o:[o];for(var e=0;e<o.length;e++){var i=o[e];null==i.p&&(i.p=[]),json.append(n,i)}return n},json.commonLengthForOps=function(o,n){var e=o.p.length,i=n.p.length;if((null!=o.na||o.t)&&e++,(null!=n.na||n.t)&&i++,0===e){return-1}if(0===i){return null}e--,i--;for(var l=0;l<e;l++){var t=o.p[l];if(l>=i||t!==n.p[l]){return null}}return e},json.canOpAffectPath=function(o,n){return null!=json.commonLengthForOps({p:n},o)},json.transformComponent=function(o,n,e,i){n=clone(n);var l=json.commonLengthForOps(e,n),t=json.commonLengthForOps(n,e),r=n.p.length,s=e.p.length;if((null!=n.na||n.t)&&r++,(null!=e.na||e.t)&&s++,null!=t&&s>r&&n.p[t]==e.p[t]){if(void 0!==n.ld){(d=clone(e)).p=d.p.slice(r),n.ld=json.apply(clone(n.ld),[d])}else if(void 0!==n.od){(d=clone(e)).p=d.p.slice(r),n.od=json.apply(clone(n.od),[d])}}if(null!=l){var p=r==s,d=e;if(null==n.si&&null==n.sd||null==e.si&&null==e.sd||(convertFromText(n),convertFromText(d=clone(e))),d.t&&subtypes[d.t]){if(n.t&&n.t===d.t){var u=subtypes[n.t].transform(n.o,d.o,i);if(null!=n.si||null!=n.sd){for(var c=n.p,f=0;f<u.length;f++){n.o=[u[f]],n.p=c.slice(),convertToText(n),json.append(o,n)}}else{(!isArray(u)||u.length>0)&&(n.o=u,json.append(o,n))}return o}}else if(void 0!==e.na){}else if(void 0!==e.li&&void 0!==e.ld){if(e.p[l]===n.p[l]){if(!p){return o}if(void 0!==n.ld){if(void 0===n.li||"left"!==i){return o}n.ld=clone(e.li)}}}else if(void 0!==e.li){void 0!==n.li&&void 0===n.ld&&p&&n.p[l]===e.p[l]?"right"===i&&n.p[l]++:e.p[l]<=n.p[l]&&n.p[l]++,void 0!==n.lm&&p&&e.p[l]<=n.lm&&n.lm++}else if(void 0!==e.ld){if(void 0!==n.lm&&p){if(e.p[l]===n.p[l]){return o}c=e.p[l];var a=n.p[l];(c<(v=n.lm)||c===v&&a<v)&&n.lm--}if(e.p[l]<n.p[l]){n.p[l]--}else if(e.p[l]===n.p[l]){if(s<r){return o}if(void 0!==n.ld){if(void 0===n.li){return o}delete n.ld}}}else if(void 0!==e.lm){if(void 0!==n.lm&&r===s){a=n.p[l];var v=n.lm,h=e.p[l],m=e.lm;if(h!==m){if(a===h){if("left"!==i){return o}n.p[l]=m,a===v&&(n.lm=m)}else{a>h&&n.p[l]--,a>m?n.p[l]++:a===m&&h>m&&(n.p[l]++,a===v&&n.lm++),v>h?n.lm--:v===h&&v>a&&n.lm--,v>m?n.lm++:v===m&&(m>h&&v>a||m<h&&v<a?"right"===i&&n.lm++:v>a?n.lm++:v===h&&n.lm--)}}}else if(void 0!==n.li&&void 0===n.ld&&p){a=e.p[l],v=e.lm;(c=n.p[l])>a&&n.p[l]--,c>v&&n.p[l]++}else{a=e.p[l],v=e.lm;(c=n.p[l])===a?n.p[l]=v:(c>a&&n.p[l]--,c>v?n.p[l]++:c===v&&a>v&&n.p[l]++)}}else if(void 0!==e.oi&&void 0!==e.od){if(n.p[l]===e.p[l]){if(void 0===n.oi||!p){return o}if("right"===i){return o}n.od=e.oi}}else if(void 0!==e.oi){if(void 0!==n.oi&&n.p[l]===e.p[l]){if("left"!==i){return o}json.append(o,{p:n.p,od:e.oi})}}else if(void 0!==e.od&&n.p[l]==e.p[l]){if(!p){return o}if(void 0===n.oi){return o}delete n.od}}return json.append(o,n),o},_$bootstrapTransform_1(json,json.transformComponent,json.checkValidOp,json.append);json.registerSubtype(_$text0_3),_$json0_2=json;var _$otJson0_otJson0={type:_$json0_2};exposedRequire.m["ot-json0"]=_$otJson0_otJson0;return exposedRequire}(typeof require==="function"?require:void 0);
require=function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({"regexp.prototype.flags":[function(require,module,exports){(function(){module.exports=function(o){var ret;ret="";if(o.global){ret+="g"}if(o.ignoreCase){ret+="i"}if(o.multiline){ret+="m"}if(o.dotAll){ret+="s"}if(o.unicode){ret+="u"}if(o.sticky){ret+="y"}return ret}}).call(this)},{}]},{},[]);
require=function(t){var e=function e(r,n){return e.m.hasOwnProperty(r)?e.m[r]:"function"!=typeof t||n?"function"==typeof e.r?e.r(r,1):void 0:t(r,1)};e.m={},e.r=t;var r={};function n(t){var e=[];for(var r in t){e.push(r)}return e}(r=r="function"==typeof Object.keys?Object.keys:n).shim=n;var o={},i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function f(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function u(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(o=o=i?f:u).supported=f,o.unsupported=u;var c,p,l=Array.prototype.slice,a=c=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var i,f;if(s(t)||s(e)){return!1}if(t.prototype!==e.prototype){return!1}if(o(t)){return!!o(e)&&(t=l.call(t),e=l.call(e),a(t,e,n))}if(y(t)){if(!y(e)){return!1}if(t.length!==e.length){return!1}for(i=0;i<t.length;i++){if(t[i]!==e[i]){return!1}}return!0}try{var u=r(t),c=r(e)}catch(p){return!1}if(u.length!=c.length){return!1}for(u.sort(),c.sort(),i=u.length-1;i>=0;i--){if(u[i]!=c[i]){return!1}}for(i=u.length-1;i>=0;i--){if(f=u[i],!a(t[f],e[f],n)){return!1}}return typeof t==typeof e}(t,e,n))};function s(t){return null==t}function y(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}var h=function(t,e,r,n){if(r===void 0)r=[];var o="string"==typeof r[r.length-1];if(c(t,e)){return[]}if(void 0===e){return(i={p:r})[o?"od":"ld"]=t,[i]}if(void 0===t){return(i={p:r})[o?"oi":"li"]=e,[i]}if(n&&"string"==typeof t&&"string"==typeof e){return p||(p=new n),function(t,e,r,n,o){var i=[];var f=o.patch_make(e,r);return Object.keys(f).forEach(function(e){var r=f[e],o=r.start1;r.diffs.forEach(function(ref){var e=ref[0];var r=ref[1];switch(e){case n.DIFF_DELETE:i.push({sd:r,p:t.concat([o])});break;case n.DIFF_INSERT:i.push({si:r,p:t.concat([o])});case n.DIFF_EQUAL:o+=r.length;break;default:throw Error("Unsupported operation type: "+e)}})}),i}(r,t,e,n,p)}var i,f=["string","number","boolean"];if(f.includes(typeof e)||f.includes(typeof t)){return(i={p:r})[o?"od":"ld"]=t,i[o?"oi":"li"]=e,[i]}if(Array.isArray(e)){for(var u=[],l=Math.max(t.length,e.length),a=(u=[],0),s=0;s<l;++s){h(t[s],e[s],r.concat([s+a]),n).forEach(function(t){var e=t.p.slice(0,-1);c(r,e)&&("li"in t&&a++,"ld"in t&&a--),u.push(t)})}return u}return u=[],new Set(Object.keys(t).concat(Object.keys(e))).forEach(function(o){var i=h(t[o],e[o],r.concat([o]),n);u=u.concat(i)}),u};return e.m["json0-ot-diff"]=function(t,e,r){return function(t){for(var e=0,r=t.length-1;e<r;++e){var n=t[e],o=t[e+1];c(n.p.slice(0,-1),o.p.slice(0,-1))&&n.p[n.p.length-1]+1===o.p[o.p.length-1]&&n.li&&o.ld&&c(n.li,o.ld)&&(delete n.li,delete o.ld)}return t.filter(function(t){return Object.keys(t).length>1})}(h(t,e,[],r))},e}("function"==typeof require?require:void 0);
require=function(t){var n=function n(e,i){return n.m.hasOwnProperty(e)?n.m[e]:"function"!=typeof t||i?"function"==typeof n.r?n.r(e,1):void 0:t(e,1)};n.m={},n.r=t;var e={},i=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};return i.Diff=function(t,n){return[t,n]},i.prototype.diff_main=function(t,n,e,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var h=r;if(null==t||null==n){throw new Error("Null input. (diff_main)")}if(t==n){return t?[new i.Diff(0,t)]:[]}void 0===e&&(e=!0);var f=e,s=this.diff_commonPrefix(t,n),a=t.substring(0,s);t=t.substring(s),n=n.substring(s),s=this.diff_commonSuffix(t,n);var l=t.substring(t.length-s);t=t.substring(0,t.length-s),n=n.substring(0,n.length-s);var g=this.diff_compute_(t,n,f,h);return a&&g.unshift(new i.Diff(0,a)),l&&g.push(new i.Diff(0,l)),this.diff_cleanupMerge(g),g},i.prototype.diff_compute_=function(t,n,e,r){var h;if(!t){return[new i.Diff(1,n)]}if(!n){return[new i.Diff(-1,t)]}var f=t.length>n.length?t:n,s=t.length>n.length?n:t,a=f.indexOf(s);if(-1!=a){return h=[new i.Diff(1,f.substring(0,a)),new i.Diff(0,s),new i.Diff(1,f.substring(a+s.length))],t.length>n.length&&(h[0][0]=h[2][0]=-1),h}if(1==s.length){return[new i.Diff(-1,t),new i.Diff(1,n)]}var l=this.diff_halfMatch_(t,n);if(l){var g=l[0],o=l[1],c=l[2],u=l[3],p=l[4],d=this.diff_main(g,c,e,r),_=this.diff_main(o,u,e,r);return d.concat([new i.Diff(0,p)],_)}return e&&t.length>100&&n.length>100?this.diff_lineMode_(t,n,r):this.diff_bisect_(t,n,r)},i.prototype.diff_lineMode_=function(t,n,e){var r=this.diff_linesToChars_(t,n);t=r.chars1,n=r.chars2;var h=r.lineArray,f=this.diff_main(t,n,!1,e);this.diff_charsToLines_(f,h),this.diff_cleanupSemantic(f),f.push(new i.Diff(0,""));for(var s=0,a=0,l=0,g="",o="";s<f.length;){switch(f[s][0]){case 1:l++,o+=f[s][1];break;case-1:a++,g+=f[s][1];break;case 0:if(a>=1&&l>=1){f.splice(s-a-l,a+l),s=s-a-l;for(var c=this.diff_main(g,o,!1,e),u=c.length-1;u>=0;u--){f.splice(s,0,c[u])}s+=c.length}l=0,a=0,g="",o=""}s++}return f.pop(),f},i.prototype.diff_bisect_=function(t,n,e){for(var r=t.length,h=n.length,f=Math.ceil((r+h)/2),s=f,a=2*f,l=new Array(a),g=new Array(a),o=0;o<a;o++){l[o]=-1,g[o]=-1}l[s+1]=0,g[s+1]=0;for(var c=r-h,u=c%2!=0,p=0,d=0,_=0,b=0,v=0;v<f&&!((new Date).getTime()>e);v++){for(var m=-v+p;m<=v-d;m+=2){for(var w=s+m,M=(k=m==-v||m!=v&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-m;k<r&&M<h&&t.charAt(k)==n.charAt(M);){k++,M++}if(l[w]=k,k>r){d+=2}else if(M>h){p+=2}else if(u&&(D=s+c-m)>=0&&D<a&&-1!=g[D]&&k>=(y=r-g[D])){return this.diff_bisectSplit_(t,n,k,M,e)}}for(var x=-v+_;x<=v-b;x+=2){for(var y,D=s+x,A=(y=x==-v||x!=v&&g[D-1]<g[D+1]?g[D+1]:g[D-1]+1)-x;y<r&&A<h&&t.charAt(r-y-1)==n.charAt(h-A-1);){y++,A++}if(g[D]=y,y>r){b+=2}else if(A>h){_+=2}else if(!u){var k;if((w=s+c-x)>=0&&w<a&&-1!=l[w]){if(M=s+(k=l[w])-w,k>=(y=r-y)){return this.diff_bisectSplit_(t,n,k,M,e)}}}}}return[new i.Diff(-1,t),new i.Diff(1,n)]},i.prototype.diff_bisectSplit_=function(t,n,e,i,r){var h=t.substring(0,e),f=n.substring(0,i),s=t.substring(e),a=n.substring(i),l=this.diff_main(h,f,!1,r),g=this.diff_main(s,a,!1,r);return l.concat(g)},i.prototype.diff_linesToChars_=function(t,n){var e=[],i={};function r(t){for(var n="",r=0,f=-1,s=e.length;f<t.length-1;){-1==(f=t.indexOf("\n",r))&&(f=t.length-1);var a=t.substring(r,f+1);(i.hasOwnProperty?i.hasOwnProperty(a):void 0!==i[a])?n+=String.fromCharCode(i[a]):(s==h&&(a=t.substring(r),f=t.length),n+=String.fromCharCode(s),i[a]=s,e[s++]=a),r=f+1}return n}e[0]="";var h=4e4,f=r(t);return h=65535,{chars1:f,chars2:r(n),lineArray:e}},i.prototype.diff_charsToLines_=function(t,n){for(var e=0;e<t.length;e++){for(var i=t[e][1],r=[],h=0;h<i.length;h++){r[h]=n[i.charCodeAt(h)]}t[e][1]=r.join("")}},i.prototype.diff_commonPrefix=function(t,n){if(!t||!n||t.charAt(0)!=n.charAt(0)){return 0}for(var e=0,i=Math.min(t.length,n.length),r=i,h=0;e<r;){t.substring(h,r)==n.substring(h,r)?h=e=r:i=r,r=Math.floor((i-e)/2+e)}return r},i.prototype.diff_commonSuffix=function(t,n){if(!t||!n||t.charAt(t.length-1)!=n.charAt(n.length-1)){return 0}for(var e=0,i=Math.min(t.length,n.length),r=i,h=0;e<r;){t.substring(t.length-r,t.length-h)==n.substring(n.length-r,n.length-h)?h=e=r:i=r,r=Math.floor((i-e)/2+e)}return r},i.prototype.diff_commonOverlap_=function(t,n){var e=t.length,i=n.length;if(0==e||0==i){return 0}e>i?t=t.substring(e-i):e<i&&(n=n.substring(0,e));var r=Math.min(e,i);if(t==n){return r}for(var h=0,f=1;;){var s=t.substring(r-f),a=n.indexOf(s);if(-1==a){return h}f+=a,0!=a&&t.substring(r-f)!=n.substring(0,f)||(h=f,f++)}},i.prototype.diff_halfMatch_=function(t,n){if(this.Diff_Timeout<=0){return null}var e=t.length>n.length?t:n,i=t.length>n.length?n:t;if(e.length<4||2*i.length<e.length){return null}var r=this;function h(t,n,e){for(var i,h,f,s,a=t.substring(e,e+Math.floor(t.length/4)),l=-1,g="";-1!=(l=n.indexOf(a,l+1));){var o=r.diff_commonPrefix(t.substring(e),n.substring(l)),c=r.diff_commonSuffix(t.substring(0,e),n.substring(0,l));g.length<c+o&&(g=n.substring(l-c,l)+n.substring(l,l+o),i=t.substring(0,e-c),h=t.substring(e+o),f=n.substring(0,l-c),s=n.substring(l+o))}return 2*g.length>=t.length?[i,h,f,s,g]:null}var f,s,a,l,g,o=h(e,i,Math.ceil(e.length/4)),c=h(e,i,Math.ceil(e.length/2));return o||c?(f=c?o&&o[4].length>c[4].length?o:c:o,t.length>n.length?(s=f[0],a=f[1],l=f[2],g=f[3]):(l=f[0],g=f[1],s=f[2],a=f[3]),[s,a,l,g,f[4]]):null},i.prototype.diff_cleanupSemantic=function(t){for(var n=!1,e=[],r=0,h=null,f=0,s=0,a=0,l=0,g=0;f<t.length;){0==t[f][0]?(e[r++]=f,s=l,a=g,l=0,g=0,h=t[f][1]):(1==t[f][0]?l+=t[f][1].length:g+=t[f][1].length,h&&h.length<=Math.max(s,a)&&h.length<=Math.max(l,g)&&(t.splice(e[r-1],0,new i.Diff(-1,h)),t[e[r-1]+1][0]=1,r--,f=--r>0?e[r-1]:-1,s=0,a=0,l=0,g=0,h=null,n=!0)),f++}for(n&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),f=1;f<t.length;){if(-1==t[f-1][0]&&1==t[f][0]){var o=t[f-1][1],c=t[f][1],u=this.diff_commonOverlap_(o,c),p=this.diff_commonOverlap_(c,o);u>=p?(u>=o.length/2||u>=c.length/2)&&(t.splice(f,0,new i.Diff(0,c.substring(0,u))),t[f-1][1]=o.substring(0,o.length-u),t[f+1][1]=c.substring(u),f++):(p>=o.length/2||p>=c.length/2)&&(t.splice(f,0,new i.Diff(0,o.substring(0,p))),t[f-1][0]=1,t[f-1][1]=c.substring(0,c.length-p),t[f+1][0]=-1,t[f+1][1]=o.substring(p),f++),f++}f++}},i.prototype.diff_cleanupSemanticLossless=function(t){function n(t,n){if(!t||!n){return 6}var e=t.charAt(t.length-1),r=n.charAt(0),h=e.match(i.nonAlphaNumericRegex_),f=r.match(i.nonAlphaNumericRegex_),s=h&&e.match(i.whitespaceRegex_),a=f&&r.match(i.whitespaceRegex_),l=s&&e.match(i.linebreakRegex_),g=a&&r.match(i.linebreakRegex_),o=l&&t.match(i.blanklineEndRegex_),c=g&&n.match(i.blanklineStartRegex_);return o||c?5:l||g?4:h&&!s&&a?3:s||a?2:h||f?1:0}for(var e=1;e<t.length-1;){if(0==t[e-1][0]&&0==t[e+1][0]){var r=t[e-1][1],h=t[e][1],f=t[e+1][1],s=this.diff_commonSuffix(r,h);if(s){var a=h.substring(h.length-s);r=r.substring(0,r.length-s),h=a+h.substring(0,h.length-s),f=a+f}for(var l=r,g=h,o=f,c=n(r,h)+n(h,f);h.charAt(0)===f.charAt(0);){r+=h.charAt(0),h=h.substring(1)+f.charAt(0),f=f.substring(1);var u=n(r,h)+n(h,f);u>=c&&(c=u,l=r,g=h,o=f)}t[e-1][1]!=l&&(l?t[e-1][1]=l:(t.splice(e-1,1),e--),t[e][1]=g,o?t[e+1][1]=o:(t.splice(e+1,1),e--))}e++}},i.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,i.whitespaceRegex_=/\s/,i.linebreakRegex_=/[\r\n]/,i.blanklineEndRegex_=/\n\r?\n$/,i.blanklineStartRegex_=/^\r?\n\r?\n/,i.prototype.diff_cleanupEfficiency=function(t){for(var n=!1,e=[],r=0,h=null,f=0,s=!1,a=!1,l=!1,g=!1;f<t.length;){0==t[f][0]?(t[f][1].length<this.Diff_EditCost&&(l||g)?(e[r++]=f,s=l,a=g,h=t[f][1]):(r=0,h=null),l=g=!1):(-1==t[f][0]?g=!0:l=!0,h&&(s&&a&&l&&g||h.length<this.Diff_EditCost/2&&s+a+l+g==3)&&(t.splice(e[r-1],0,new i.Diff(-1,h)),t[e[r-1]+1][0]=1,r--,h=null,s&&a?(l=g=!0,r=0):(f=--r>0?e[r-1]:-1,l=g=!1),n=!0)),f++}n&&this.diff_cleanupMerge(t)},i.prototype.diff_cleanupMerge=function(t){t.push(new i.Diff(0,""));for(var n,e=0,r=0,h=0,f="",s="";e<t.length;){switch(t[e][0]){case 1:h++,s+=t[e][1],e++;break;case-1:r++,f+=t[e][1],e++;break;case 0:r+h>1?(0!==r&&0!==h&&(0!==(n=this.diff_commonPrefix(s,f))&&(e-r-h>0&&0==t[e-r-h-1][0]?t[e-r-h-1][1]+=s.substring(0,n):(t.splice(0,0,new i.Diff(0,s.substring(0,n))),e++),s=s.substring(n),f=f.substring(n)),0!==(n=this.diff_commonSuffix(s,f))&&(t[e][1]=s.substring(s.length-n)+t[e][1],s=s.substring(0,s.length-n),f=f.substring(0,f.length-n))),e-=r+h,t.splice(e,r+h),f.length&&(t.splice(e,0,new i.Diff(-1,f)),e++),s.length&&(t.splice(e,0,new i.Diff(1,s)),e++),e++):0!==e&&0==t[e-1][0]?(t[e-1][1]+=t[e][1],t.splice(e,1)):e++,h=0,r=0,f="",s=""}}""===t[t.length-1][1]&&t.pop();var a=!1;for(e=1;e<t.length-1;){0==t[e-1][0]&&0==t[e+1][0]&&(t[e][1].substring(t[e][1].length-t[e-1][1].length)==t[e-1][1]?(t[e][1]=t[e-1][1]+t[e][1].substring(0,t[e][1].length-t[e-1][1].length),t[e+1][1]=t[e-1][1]+t[e+1][1],t.splice(e-1,1),a=!0):t[e][1].substring(0,t[e+1][1].length)==t[e+1][1]&&(t[e-1][1]+=t[e+1][1],t[e][1]=t[e][1].substring(t[e+1][1].length)+t[e+1][1],t.splice(e+1,1),a=!0)),e++}a&&this.diff_cleanupMerge(t)},i.prototype.diff_xIndex=function(t,n){var e,i=0,r=0,h=0,f=0;for(e=0;e<t.length&&(1!==t[e][0]&&(i+=t[e][1].length),-1!==t[e][0]&&(r+=t[e][1].length),!(i>n));e++){h=i,f=r}return t.length!=e&&-1===t[e][0]?f:f+(n-h)},i.prototype.diff_prettyHtml=function(t){for(var n=[],e=/&/g,i=/</g,r=/>/g,h=/\n/g,f=0;f<t.length;f++){var s=t[f][0],a=t[f][1].replace(e,"&amp;").replace(i,"&lt;").replace(r,"&gt;").replace(h,"&para;<br>");switch(s){case 1:n[f]='<ins style="background:#e6ffe6;">'+a+"</ins>";break;case-1:n[f]='<del style="background:#ffe6e6;">'+a+"</del>";break;case 0:n[f]="<span>"+a+"</span>"}}return n.join("")},i.prototype.diff_text1=function(t){for(var n=[],e=0;e<t.length;e++){1!==t[e][0]&&(n[e]=t[e][1])}return n.join("")},i.prototype.diff_text2=function(t){for(var n=[],e=0;e<t.length;e++){-1!==t[e][0]&&(n[e]=t[e][1])}return n.join("")},i.prototype.diff_levenshtein=function(t){for(var n=0,e=0,i=0,r=0;r<t.length;r++){var h=t[r][0],f=t[r][1];switch(h){case 1:e+=f.length;break;case-1:i+=f.length;break;case 0:n+=Math.max(e,i),e=0,i=0}}return n+Math.max(e,i)},i.prototype.diff_toDelta=function(t){for(var n=[],e=0;e<t.length;e++){switch(t[e][0]){case 1:n[e]="+"+encodeURI(t[e][1]);break;case-1:n[e]="-"+t[e][1].length;break;case 0:n[e]="="+t[e][1].length}}return n.join("\t").replace(/%20/g," ")},i.prototype.diff_fromDelta=function(t,n){for(var e=[],r=0,h=0,f=n.split(/\t/g),s=0;s<f.length;s++){var a=f[s].substring(1);switch(f[s].charAt(0)){case"+":try{e[r++]=new i.Diff(1,decodeURI(a))}catch(o){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var l=parseInt(a,10);if(isNaN(l)||l<0){throw new Error("Invalid number in diff_fromDelta: "+a)}var g=t.substring(h,h+=l);"="==f[s].charAt(0)?e[r++]=new i.Diff(0,g):e[r++]=new i.Diff(-1,g);break;default:if(f[s]){throw new Error("Invalid diff operation in diff_fromDelta: "+f[s])}}}if(h!=t.length){throw new Error("Delta length ("+h+") does not equal source text length ("+t.length+").")}return e},i.prototype.match_main=function(t,n,e){if(null==t||null==n||null==e){throw new Error("Null input. (match_main)")}return e=Math.max(0,Math.min(e,t.length)),t==n?0:t.length?t.substring(e,e+n.length)==n?e:this.match_bitap_(t,n,e):-1},i.prototype.match_bitap_=function(t,n,e){if(n.length>this.Match_MaxBits){throw new Error("Pattern too long for this browser.")}var i=this.match_alphabet_(n),r=this;function h(t,i){var h=t/n.length,f=Math.abs(e-i);return r.Match_Distance?h+f/r.Match_Distance:f?1:h}var f=this.Match_Threshold,s=t.indexOf(n,e);-1!=s&&(f=Math.min(h(0,s),f),-1!=(s=t.lastIndexOf(n,e+n.length))&&(f=Math.min(h(0,s),f)));var a,l,g=1<<n.length-1;s=-1;for(var o,c=n.length+t.length,u=0;u<n.length;u++){for(a=0,l=c;a<l;){h(u,e+l)<=f?a=l:c=l,l=Math.floor((c-a)/2+a)}c=l;var p=Math.max(1,e-l+1),d=Math.min(e+l,t.length)+n.length,_=Array(d+2);_[d+1]=(1<<u)-1;for(var b=d;b>=p;b--){var v=i[t.charAt(b-1)];if(_[b]=0===u?(_[b+1]<<1|1)&v:(_[b+1]<<1|1)&v|(o[b+1]|o[b])<<1|1|o[b+1],_[b]&g){var m=h(u,b-1);if(m<=f){if(f=m,!((s=b-1)>e)){break}p=Math.max(1,2*e-s)}}}if(h(u+1,e)>f){break}o=_}return s},i.prototype.match_alphabet_=function(t){for(var n={},e=0;e<t.length;e++){n[t.charAt(e)]=0}for(e=0;e<t.length;e++){n[t.charAt(e)]|=1<<t.length-e-1}return n},i.prototype.patch_addContext_=function(t,n){if(0!=n.length){if(null===t.start2){throw Error("patch not initialized")}for(var e=n.substring(t.start2,t.start2+t.length1),r=0;n.indexOf(e)!=n.lastIndexOf(e)&&e.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;){r+=this.Patch_Margin,e=n.substring(t.start2-r,t.start2+t.length1+r)}r+=this.Patch_Margin;var h=n.substring(t.start2-r,t.start2);h&&t.diffs.unshift(new i.Diff(0,h));var f=n.substring(t.start2+t.length1,t.start2+t.length1+r);f&&t.diffs.push(new i.Diff(0,f)),t.start1-=h.length,t.start2-=h.length,t.length1+=h.length+f.length,t.length2+=h.length+f.length}},i.prototype.patch_make=function(t,n,e){var r,h;if("string"==typeof t&&"string"==typeof n&&void 0===e){r=t,(h=this.diff_main(r,n,!0)).length>2&&(this.diff_cleanupSemantic(h),this.diff_cleanupEfficiency(h))}else if(t&&"object"==typeof t&&void 0===n&&void 0===e){h=t,r=this.diff_text1(h)}else if("string"==typeof t&&n&&"object"==typeof n&&void 0===e){r=t,h=n}else{if("string"!=typeof t||"string"!=typeof n||!e||"object"!=typeof e){throw new Error("Unknown call format to patch_make.")}r=t,h=e}if(0===h.length){return[]}for(var f=[],s=new i.patch_obj,a=0,l=0,g=0,o=r,c=r,u=0;u<h.length;u++){var p=h[u][0],d=h[u][1];switch(a||0===p||(s.start1=l,s.start2=g),p){case 1:s.diffs[a++]=h[u],s.length2+=d.length,c=c.substring(0,g)+d+c.substring(g);break;case-1:s.length1+=d.length,s.diffs[a++]=h[u],c=c.substring(0,g)+c.substring(g+d.length);break;case 0:d.length<=2*this.Patch_Margin&&a&&h.length!=u+1?(s.diffs[a++]=h[u],s.length1+=d.length,s.length2+=d.length):d.length>=2*this.Patch_Margin&&a&&(this.patch_addContext_(s,o),f.push(s),s=new i.patch_obj,a=0,o=c,l=g)}1!==p&&(l+=d.length),-1!==p&&(g+=d.length)}return a&&(this.patch_addContext_(s,o),f.push(s)),f},i.prototype.patch_deepCopy=function(t){for(var n=[],e=0;e<t.length;e++){var r=t[e],h=new i.patch_obj;h.diffs=[];for(var f=0;f<r.diffs.length;f++){h.diffs[f]=new i.Diff(r.diffs[f][0],r.diffs[f][1])}h.start1=r.start1,h.start2=r.start2,h.length1=r.length1,h.length2=r.length2,n[e]=h}return n},i.prototype.patch_apply=function(t,n){if(0==t.length){return[n,[]]}t=this.patch_deepCopy(t);var e=this.patch_addPadding(t);n=e+n+e,this.patch_splitMax(t);for(var i=0,r=[],h=0;h<t.length;h++){var f,s,a=t[h].start2+i,l=this.diff_text1(t[h].diffs),g=-1;if(l.length>this.Match_MaxBits?-1!=(f=this.match_main(n,l.substring(0,this.Match_MaxBits),a))&&(-1==(g=this.match_main(n,l.substring(l.length-this.Match_MaxBits),a+l.length-this.Match_MaxBits))||f>=g)&&(f=-1):f=this.match_main(n,l,a),-1==f){r[h]=!1,i-=t[h].length2-t[h].length1}else if(r[h]=!0,i=f-a,l==(s=-1==g?n.substring(f,f+l.length):n.substring(f,g+this.Match_MaxBits))){n=n.substring(0,f)+this.diff_text2(t[h].diffs)+n.substring(f+l.length)}else{var o=this.diff_main(l,s,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(o)/l.length>this.Patch_DeleteThreshold){r[h]=!1}else{this.diff_cleanupSemanticLossless(o);for(var c,u=0,p=0;p<t[h].diffs.length;p++){var d=t[h].diffs[p];0!==d[0]&&(c=this.diff_xIndex(o,u)),1===d[0]?n=n.substring(0,f+c)+d[1]+n.substring(f+c):-1===d[0]&&(n=n.substring(0,f+c)+n.substring(f+this.diff_xIndex(o,u+d[1].length))),-1!==d[0]&&(u+=d[1].length)}}}}return[n=n.substring(e.length,n.length-e.length),r]},i.prototype.patch_addPadding=function(t){for(var n=this.Patch_Margin,e="",r=1;r<=n;r++){e+=String.fromCharCode(r)}for(r=0;r<t.length;r++){t[r].start1+=n,t[r].start2+=n}var h=t[0],f=h.diffs;if(0==f.length||0!=f[0][0]){f.unshift(new i.Diff(0,e)),h.start1-=n,h.start2-=n,h.length1+=n,h.length2+=n}else if(n>f[0][1].length){var s=n-f[0][1].length;f[0][1]=e.substring(f[0][1].length)+f[0][1],h.start1-=s,h.start2-=s,h.length1+=s,h.length2+=s}return 0==(f=(h=t[t.length-1]).diffs).length||0!=f[f.length-1][0]?(f.push(new i.Diff(0,e)),h.length1+=n,h.length2+=n):n>f[f.length-1][1].length&&(s=n-f[f.length-1][1].length,f[f.length-1][1]+=e.substring(0,s),h.length1+=s,h.length2+=s),e},i.prototype.patch_splitMax=function(t){for(var n=this.Match_MaxBits,e=0;e<t.length;e++){if(!(t[e].length1<=n)){var r=t[e];t.splice(e--,1);for(var h=r.start1,f=r.start2,s="";0!==r.diffs.length;){var a=new i.patch_obj,l=!0;for(a.start1=h-s.length,a.start2=f-s.length,""!==s&&(a.length1=a.length2=s.length,a.diffs.push(new i.Diff(0,s)));0!==r.diffs.length&&a.length1<n-this.Patch_Margin;){var g=r.diffs[0][0],o=r.diffs[0][1];1===g?(a.length2+=o.length,f+=o.length,a.diffs.push(r.diffs.shift()),l=!1):-1===g&&1==a.diffs.length&&0==a.diffs[0][0]&&o.length>2*n?(a.length1+=o.length,h+=o.length,l=!1,a.diffs.push(new i.Diff(g,o)),r.diffs.shift()):(o=o.substring(0,n-a.length1-this.Patch_Margin),a.length1+=o.length,h+=o.length,0===g?(a.length2+=o.length,f+=o.length):l=!1,a.diffs.push(new i.Diff(g,o)),o==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(o.length))}s=(s=this.diff_text2(a.diffs)).substring(s.length-this.Patch_Margin);var c=this.diff_text1(r.diffs).substring(0,this.Patch_Margin);""!==c&&(a.length1+=c.length,a.length2+=c.length,0!==a.diffs.length&&0===a.diffs[a.diffs.length-1][0]?a.diffs[a.diffs.length-1][1]+=c:a.diffs.push(new i.Diff(0,c))),l||t.splice(++e,0,a)}}}},i.prototype.patch_toText=function(t){for(var n=[],e=0;e<t.length;e++){n[e]=t[e]}return n.join("")},i.prototype.patch_fromText=function(t){var n=[];if(!t){return n}for(var e=t.split("\n"),r=0,h=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;r<e.length;){var f=e[r].match(h);if(!f){throw new Error("Invalid patch string: "+e[r])}var s=new i.patch_obj;for(n.push(s),s.start1=parseInt(f[1],10),""===f[2]?(s.start1--,s.length1=1):"0"==f[2]?s.length1=0:(s.start1--,s.length1=parseInt(f[2],10)),s.start2=parseInt(f[3],10),""===f[4]?(s.start2--,s.length2=1):"0"==f[4]?s.length2=0:(s.start2--,s.length2=parseInt(f[4],10)),r++;r<e.length;){var a=e[r].charAt(0);try{var l=decodeURI(e[r].substring(1))}catch(g){throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==a){s.diffs.push(new i.Diff(-1,l))}else if("+"==a){s.diffs.push(new i.Diff(1,l))}else if(" "==a){s.diffs.push(new i.Diff(0,l))}else{if("@"==a){break}if(""!==a){throw new Error('Invalid patch mode "'+a+'" in: '+l)}}r++}}return n},i.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},i.patch_obj.prototype.toString=function(){for(var t,n=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],e=0;e<this.diffs.length;e++){switch(this.diffs[e][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}n[e+1]=t+encodeURI(this.diffs[e][1])+"\n"}return n.join("").replace(/%20/g," ")},(e=i).diff_match_patch=i,e.DIFF_DELETE=-1,e.DIFF_INSERT=1,e.DIFF_EQUAL=0,n.m["diff-match-patch"]=e,n}("function"==typeof require?require:void 0);
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.json0=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c){return c(i,!0)}if(u){return u(i,!0)}var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++){o(t[i])}return o}return r}()({"/.built/json0.js":[function(require,module,exports){var otJson0,json0OtDiff,diffMatchPatch;otJson0=require("ot-json0");json0OtDiff=require("json0-ot-diff");diffMatchPatch=require("diff-match-patch");module.exports={type:otJson0.type,diff:function(a,b){return json0OtDiff(a,b,diffMatchPatch)}}},{"diff-match-patch":undefined,"json0-ot-diff":undefined,"ot-json0":undefined}]},{},[])("/.built/json0.js")});
// Native JavaScript for Bootstrap v3.0.15 | 2021 Â© dnp_theme | MIT-License
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).BSN=e()}(this,(function(){"use strict";var t="webkitTransition"in document.head.style?"webkitTransitionEnd":"transitionend",e="webkitTransition"in document.head.style||"transition"in document.head.style,i="webkitTransition"in document.head.style?"webkitTransitionDuration":"transitionDuration",n="webkitTransition"in document.head.style?"webkitTransitionProperty":"transitionProperty";function a(t){var a=getComputedStyle(t),o=a[n],s=a[i],l=s.includes("ms")?1:1e3,c=e&&o&&"none"!==o?parseFloat(s)*l:0;return Number.isNaN(c)?0:c}function o(e,i){var n=0,o=new Event(t),s=a(e);s?(e.addEventListener(t,(function a(o){o.target===e&&(i.apply(e,[o]),e.removeEventListener(t,a),n=1)})),setTimeout((function(){n||e.dispatchEvent(o)}),s+17)):i.apply(e,[o])}function s(t,e){var i=e&&e instanceof Element?e:document;return t instanceof Element?t:i.querySelector(t)}function l(t,e,i){var n=new CustomEvent(t+".bs."+e,{cancelable:!0});return void 0!==i&&Object.keys(i).forEach((function(t){Object.defineProperty(n,t,{value:i[t]})})),n}function c(t){this&&this.dispatchEvent(t)}function r(t){var e,i,n=this,a=l("close","alert"),r=l("closed","alert");function d(t){e[t?"addEventListener":"removeEventListener"]("click",u,!1)}function u(t){i=t&&t.target.closest(".alert"),(e=s('[data-dismiss="alert"]',i))&&i&&(e===t.target||e.contains(t.target))&&n.close()}function m(){d(),i.parentNode.removeChild(i),c.call(i,r)}n.close=function(){if(i&&e&&i.classList.contains("show")){if(c.call(i,a),a.defaultPrevented)return;n.dispose(),i.classList.remove("show"),i.classList.contains("fade")?o(i,m):m()}},n.dispose=function(){d(),delete e.Alert},e=s(t),i=e.closest(".alert"),e.Alert&&e.Alert.dispose(),e.Alert||d(1),n.element=e,e.Alert=n}function d(t){var e,i,n=l("change","button");function a(t){var a=t.target,o=a.closest("LABEL"),s=null;"LABEL"===a.tagName?s=a:o&&(s=o);var l=s&&s.getElementsByTagName("INPUT")[0];if(l){if(c.call(l,n),c.call(e,n),"checkbox"===l.type){if(n.defaultPrevented)return;l.checked?(s.classList.remove("active"),l.getAttribute("checked"),l.removeAttribute("checked"),l.checked=!1):(s.classList.add("active"),l.getAttribute("checked"),l.setAttribute("checked","checked"),l.checked=!0),e.toggled||(e.toggled=!0)}if("radio"===l.type&&!e.toggled){if(n.defaultPrevented)return;(!l.checked||0===t.screenX&&0===t.screenY)&&(s.classList.add("active"),s.classList.add("focus"),l.setAttribute("checked","checked"),l.checked=!0,e.toggled=!0,Array.from(i).forEach((function(t){var e=t.getElementsByTagName("INPUT")[0];t!==s&&t.classList.contains("active")&&(c.call(e,n),t.classList.remove("active"),e.removeAttribute("checked"),e.checked=!1)})))}setTimeout((function(){e.toggled=!1}),50)}}function o(t){32===(t.which||t.keyCode)&&t.target===document.activeElement&&a(t)}function r(t){32===(t.which||t.keyCode)&&t.preventDefault()}function d(t){if("INPUT"===t.target.tagName){var e="focusin"===t.type?"add":"remove";t.target.closest(".btn").classList[e]("focus")}}function u(t){var i=t?"addEventListener":"removeEventListener";e[i]("click",a,!1),e[i]("keyup",o,!1),e[i]("keydown",r,!1),e[i]("focusin",d,!1),e[i]("focusout",d,!1)}this.dispose=function(){u(),delete e.Button},(e=s(t)).Button&&e.Button.dispose(),(i=e.getElementsByClassName("btn")).length&&(e.Button||u(1),e.toggled=!1,e.Button=this,Array.from(i).forEach((function(t){var e=s("input:checked",t);!t.classList.contains("active")&&e&&t.classList.add("active"),t.classList.contains("active")&&!e&&t.classList.remove("active")})))}var u="onmouseleave"in document?["mouseenter","mouseleave"]:["mouseover","mouseout"],m=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0}});document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t,e)}),e)}catch(t){throw Error("Passive events are not supported")}return t}()&&{passive:!0};function f(t){return t.offsetHeight}function h(t,e){var i,n,r,d,h,g,p,v,L,b,y,w,A,T=e||{},E=this;function k(){!1===g.interval||d.classList.contains("paused")||(d.classList.add("paused"),h.isSliding||(clearInterval(h.timer),h.timer=null))}function x(){!1!==g.interval&&d.classList.contains("paused")&&(d.classList.remove("paused"),h.isSliding||(clearInterval(h.timer),h.timer=null,E.cycle()))}function C(t){if(t.preventDefault(),!h.isSliding){var e=t.target;e&&!e.classList.contains("active")&&e.getAttribute("data-slide-to")&&(h.index=+e.getAttribute("data-slide-to"),E.slideTo(h.index))}}function N(t){if(t.preventDefault(),!h.isSliding){var e=t.currentTarget||t.srcElement;e===y?h.index+=1:e===b&&(h.index-=1),E.slideTo(h.index)}}function P(t){var e=t.which;if(!h.isSliding){switch(e){case 39:h.index+=1;break;case 37:h.index-=1;break;default:return}E.slideTo(h.index)}}function H(t){var e=t?"addEventListener":"removeEventListener";g.pause&&g.interval&&(d[e](u[0],k,!1),d[e](u[1],x,!1),d[e]("touchstart",k,m),d[e]("touchend",x,m)),g.touch&&L.length>1&&d[e]("touchstart",B,m),y&&y[e]("click",N,!1),b&&b[e]("click",N,!1),w&&w[e]("click",C,!1),g.keyboard&&window[e]("keydown",P,!1)}function S(t){var e=t?"addEventListener":"removeEventListener";d[e]("touchmove",M,m),d[e]("touchend",I,m)}function B(t){h.isTouch||(h.touchPosition.startX=t.changedTouches[0].pageX,d.contains(t.target)&&(h.isTouch=!0,S(1)))}function M(t){h.isTouch?(h.touchPosition.currentX=t.changedTouches[0].pageX,"touchmove"===t.type&&t.changedTouches.length>1&&t.preventDefault()):t.preventDefault()}function I(t){if(h.isTouch&&!h.isSliding&&(h.touchPosition.endX=h.touchPosition.currentX||t.changedTouches[0].pageX,h.isTouch)){if((!d.contains(t.target)||!d.contains(t.relatedTarget))&&Math.abs(h.touchPosition.startX-h.touchPosition.endX)<75)return;h.touchPosition.currentX<h.touchPosition.startX?h.index+=1:h.touchPosition.currentX>h.touchPosition.startX&&(h.index-=1),h.isTouch=!1,E.slideTo(h.index),S()}}function D(t){Array.from(A).forEach((function(t){return t.classList.remove("active")})),A[t]&&A[t].classList.add("active")}function X(t){if(h.touchPosition){var e=h.index,i=t&&t.target!==L[e]?1e3*t.elapsedTime+100:20,n=E.getActiveIndex(),a="left"===h.direction?"next":"prev";h.isSliding&&setTimeout((function(){h.touchPosition&&(h.isSliding=!1,L[e].classList.add("active"),L[n].classList.remove("active"),L[e].classList.remove("carousel-item-"+a),L[e].classList.remove("carousel-item-"+h.direction),L[n].classList.remove("carousel-item-"+h.direction),c.call(d,v),document.hidden||!g.interval||d.classList.contains("paused")||E.cycle())}),i)}}if(E.cycle=function(){h.timer&&(clearInterval(h.timer),h.timer=null),h.timer=setInterval((function(){var t=h.index||E.getActiveIndex();(function(t){var e=t.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight;return e.top<=i&&e.bottom>=0})(d)&&(t+=1,E.slideTo(t))}),g.interval)},E.slideTo=function(t){if(!h.isSliding){var e=E.getActiveIndex(),i=t;if(e!==i){e<i||0===e&&i===L.length-1?h.direction="left":(e>i||e===L.length-1&&0===i)&&(h.direction="right"),i<0?i=L.length-1:i>=L.length&&(i=0);var n="left"===h.direction?"next":"prev",s={relatedTarget:L[i],direction:h.direction,from:e,to:i};p=l("slide","carousel",s),v=l("slid","carousel",s),c.call(d,p),p.defaultPrevented||(h.index=i,h.isSliding=!0,clearInterval(h.timer),h.timer=null,D(i),a(L[i])&&d.classList.contains("slide")?(L[i].classList.add("carousel-item-"+n),f(L[i]),L[i].classList.add("carousel-item-"+h.direction),L[e].classList.add("carousel-item-"+h.direction),o(L[i],X)):(L[i].classList.add("active"),f(L[i]),L[e].classList.remove("active"),setTimeout((function(){h.isSliding=!1,g.interval&&d&&!d.classList.contains("paused")&&E.cycle(),c.call(d,v)}),100)))}}},E.getActiveIndex=function(){return Array.from(L).indexOf(d.getElementsByClassName("carousel-item active")[0])||0},E.dispose=function(){var t=["left","right","prev","next"];Array.from(L).forEach((function(e,i){e.classList.contains("active")&&D(i),t.forEach((function(t){return e.classList.remove("carousel-item-"+t)}))})),clearInterval(h.timer),H(),h={},g={},delete d.Carousel},(d=s(t)).Carousel&&d.Carousel.dispose(),L=d.getElementsByClassName("carousel-item"),i=d.getElementsByClassName("carousel-control-prev"),b=i[0],n=d.getElementsByClassName("carousel-control-next"),y=n[0],r=d.getElementsByClassName("carousel-indicators"),w=r[0],A=w&&w.getElementsByTagName("LI")||[],!(L.length<2)){var O=d.getAttribute("data-interval"),R="false"===O?0:+O,W="false"===d.getAttribute("data-touch")?0:1,j="hover"===d.getAttribute("data-pause")||!1,z="true"===d.getAttribute("data-keyboard")||!1,U=T.interval,q=T.touch;(g={}).keyboard=!0===T.keyboard||z,g.pause=!("hover"!==T.pause&&!j)&&"hover",g.touch=q||W,g.interval=5e3,"number"==typeof U?g.interval=U:!1===U||0===R||!1===R?g.interval=0:Number.isNaN(R)||(g.interval=R),E.getActiveIndex()<0&&(L.length&&L[0].classList.add("active"),A.length&&D(0)),(h={}).direction="left",h.index=0,h.timer=null,h.isSliding=!1,h.isTouch=!1,h.touchPosition={startX:0,currentX:0,endX:0},H(1),g.interval&&E.cycle(),d.Carousel=E}}function g(t,e){var i,n,a,r,d,u,m,h=e||{},g=this,p=null,v=null;function L(t,e){c.call(t,u),u.defaultPrevented||(t.isAnimating=!0,t.style.height=t.scrollHeight+"px",t.classList.remove("collapse"),t.classList.remove("show"),t.classList.add("collapsing"),f(t),t.style.height="0px",o(t,(function(){t.isAnimating=!1,t.setAttribute("aria-expanded","false"),e.setAttribute("aria-expanded","false"),t.classList.remove("collapsing"),t.classList.add("collapse"),t.style.height="",c.call(t,m)})))}g.toggle=function(t){(t&&"A"===t.target.tagName||"A"===i.tagName)&&t.preventDefault(),(i.contains(t.target)||t.target===i)&&(v.classList.contains("show")?g.hide():g.show())},g.hide=function(){v.isAnimating||(L(v,i),i.classList.add("collapsed"))},g.show=function(){var t,e,l;p&&(t=p.getElementsByClassName("collapse show"),n=t[0],a=n&&(s('[data-target="#'+n.id+'"]',p)||s('[href="#'+n.id+'"]',p))),v.isAnimating||(a&&n!==v&&(L(n,a),a.classList.add("collapsed")),e=v,l=i,c.call(e,r),r.defaultPrevented||(e.isAnimating=!0,e.classList.add("collapsing"),e.classList.remove("collapse"),e.style.height=e.scrollHeight+"px",o(e,(function(){e.isAnimating=!1,e.setAttribute("aria-expanded","true"),l.setAttribute("aria-expanded","true"),e.classList.remove("collapsing"),e.classList.add("collapse"),e.classList.add("show"),e.style.height="",c.call(e,d)}))),i.classList.remove("collapsed"))},g.dispose=function(){i.removeEventListener("click",g.toggle,!1),delete i.Collapse},(i=s(t)).Collapse&&i.Collapse.dispose();var b=i.getAttribute("data-parent");r=l("show","collapse"),d=l("shown","collapse"),u=l("hide","collapse"),m=l("hidden","collapse"),null!==(v=s(h.target||i.getAttribute("data-target")||i.getAttribute("href")))&&(v.isAnimating=!1),p=i.closest(h.parent||b),i.Collapse||i.addEventListener("click",g.toggle,!1),i.Collapse=g}function p(t){t.focus()}function v(t,e){var i,n,a,o,r,d,u,m,f=this,h=null,g=[];function v(t){(t.href&&"#"===t.href.slice(-1)||t.parentNode&&t.parentNode.href&&"#"===t.parentNode.href.slice(-1))&&this.preventDefault()}function L(){var t=i.open?"addEventListener":"removeEventListener";document[t]("click",b,!1),document[t]("keydown",w,!1),document[t]("keyup",A,!1),document[t]("focus",b,!1)}function b(t){var e=t.target;if(e.getAttribute){var n=e&&e.getAttribute("data-toggle")||e.parentNode&&e.parentNode.getAttribute&&e.parentNode.getAttribute("data-toggle");("focus"!==t.type||e!==i&&e!==u&&!u.contains(e))&&(e!==u&&!u.contains(e)||!m&&!n)&&(h=e===i||i.contains(e)?i:null,f.hide(),v.call(t,e))}}function y(t){h=i,f.show(),v.call(t,t.target)}function w(t){var e=t.which||t.keyCode;38!==e&&40!==e||t.preventDefault()}function A(t){var e=t.which||t.keyCode,n=document.activeElement,a=n===i,o=u.contains(n),s=n.parentNode===u||n.parentNode.parentNode===u,l=g.indexOf(n);s&&(a?l=0:38===e?l=l>1?l-1:0:40===e&&(l=l<g.length-1?l+1:l),g[l]&&p(g[l])),(g.length&&s||!g.length&&(o||a)||!o)&&i.open&&27===e&&(f.toggle(),h=null)}f.show=function(){n=l("show","dropdown",{relatedTarget:h}),c.call(d,n),n.defaultPrevented||(u.classList.add("show"),d.classList.add("show"),i.setAttribute("aria-expanded",!0),i.open=!0,i.removeEventListener("click",y,!1),setTimeout((function(){p(u.getElementsByTagName("INPUT")[0]||i),L(),a=l("shown","dropdown",{relatedTarget:h}),c.call(d,a)}),1))},f.hide=function(){o=l("hide","dropdown",{relatedTarget:h}),c.call(d,o),o.defaultPrevented||(u.classList.remove("show"),d.classList.remove("show"),i.setAttribute("aria-expanded",!1),i.open=!1,L(),p(i),setTimeout((function(){i.Dropdown&&i.addEventListener("click",y,!1)}),1),r=l("hidden","dropdown",{relatedTarget:h}),c.call(d,r))},f.toggle=function(){d.classList.contains("show")&&i.open?f.hide():f.show()},f.dispose=function(){d.classList.contains("show")&&i.open&&f.hide(),i.removeEventListener("click",y,!1),delete i.Dropdown},(i=s(t)).Dropdown&&i.Dropdown.dispose(),d=i.parentNode,u=s(".dropdown-menu",d),Array.from(u.children).forEach((function(t){t.children.length&&"A"===t.children[0].tagName&&g.push(t.children[0]),"A"===t.tagName&&g.push(t)})),i.Dropdown||("tabindex"in u||u.setAttribute("tabindex","0"),i.addEventListener("click",y,!1)),m=!0===e||"true"===i.getAttribute("data-persist")||!1,i.open=!1,i.Dropdown=f}function L(t,e){var i,n,r,d,u,h,g,v,L,b,y=e||{},w=this,A=null,T={};function E(){var t=document.body.classList.contains("modal-open"),e=parseInt(getComputedStyle(document.body).paddingRight,10),i=document.documentElement.clientHeight,a=document.documentElement.scrollHeight,o=document.body.clientHeight,s=document.body.scrollHeight,l=i!==a||o!==s,c=n.clientHeight!==n.scrollHeight;g=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}(),n.style.paddingRight=!c&&g?g+"px":"",document.body.style.paddingRight=c||l?e+(t?0:g)+"px":"",b.length&&b.forEach((function(e){var i=getComputedStyle(e).paddingRight;e.style.paddingRight=c||l?parseInt(i,10)+(t?0:g)+"px":parseInt(i,10)+"px"}))}function k(){(v=s(".modal-backdrop"))&&!document.getElementsByClassName("modal show")[0]&&(document.body.removeChild(v),v=null),null===v&&(document.body.classList.remove("modal-open"),document.body.style.paddingRight="",n.style.paddingRight="",b.length&&b.forEach((function(t){t.style.paddingRight=""})))}function x(t){var e=t?"addEventListener":"removeEventListener";window[e]("resize",w.update,m),n[e]("click",B,!1),document[e]("keydown",S,!1)}function C(){n.style.display="block",E(),document.getElementsByClassName("modal show")[0]||document.body.classList.add("modal-open"),n.classList.add("show"),n.setAttribute("aria-hidden",!1),n.classList.contains("fade")?o(n,N):N()}function N(){p(n),n.isAnimating=!1,x(1),d=l("shown","modal",{relatedTarget:A}),c.call(n,d)}function P(t){n.style.display="",i&&p(i),v=s(".modal-backdrop"),1!==t&&v&&v.classList.contains("show")&&!document.getElementsByClassName("modal show")[0]?(v.classList.remove("show"),o(v,k)):k(),x(),n.isAnimating=!1,h=l("hidden","modal"),c.call(n,h)}function H(t){if(!n.isAnimating){var e=t.target,a="#"+n.getAttribute("id"),o=e.getAttribute("data-target")||e.getAttribute("href"),s=i.getAttribute("data-target")||i.getAttribute("href");!n.classList.contains("show")&&(e===i&&o===a||i.contains(e)&&s===a)&&(n.modalTrigger=i,A=i,w.show(),t.preventDefault())}}function S(t){var e=t.which;!n.isAnimating&&T.keyboard&&27===e&&n.classList.contains("show")&&w.hide()}function B(t){if(!n.isAnimating){var e=t.target,i="modal"===e.getAttribute("data-dismiss"),a=e.closest('[data-dismiss="modal"]');n.classList.contains("show")&&(a||i||e===n&&"static"!==T.backdrop)&&(w.hide(),A=null,t.preventDefault())}}w.toggle=function(){n.classList.contains("show")?w.hide():w.show()},w.show=function(){if(!(n.classList.contains("show")&&n.isAnimating||(r=l("show","modal",{relatedTarget:A}),c.call(n,r),r.defaultPrevented))){n.isAnimating=!0;var t,e=document.getElementsByClassName("modal show")[0];e&&e!==n&&(e.modalTrigger&&e.modalTrigger.Modal.hide(),e.Modal&&e.Modal.hide()),T.backdrop&&(t=document.createElement("div"),null===(v=s(".modal-backdrop"))&&(t.setAttribute("class","modal-backdrop"+(T.animation?" fade":"")),v=t,document.body.appendChild(v)),v=v),!v||e||v.classList.contains("show")||(f(v),L=a(v),v.classList.add("show")),e?C():setTimeout(C,v&&L?L:0)}},w.hide=function(t){n.classList.contains("show")&&(u=l("hide","modal"),c.call(n,u),u.defaultPrevented||(n.isAnimating=!0,n.classList.remove("show"),n.setAttribute("aria-hidden",!0),n.classList.contains("fade")&&1!==t?o(n,P):P()))},w.setContent=function(t){s(".modal-content",n).innerHTML=t},w.update=function(){n.classList.contains("show")&&E()},w.dispose=function(){w.hide(1),i?(i.removeEventListener("click",H,!1),delete i.Modal):delete n.Modal},i=s(t);var M=s(i.getAttribute("data-target")||i.getAttribute("href"));n=i.classList.contains("modal")?i:M,b=Array.from(document.getElementsByClassName("fixed-top")).concat(Array.from(document.getElementsByClassName("fixed-bottom"))),i.classList.contains("modal")&&(i=null),i&&i.Modal&&i.Modal.dispose(),n&&n.Modal&&n.Modal.dispose(),T.keyboard=!(!1===y.keyboard||"false"===n.getAttribute("data-keyboard")),T.backdrop="static"!==y.backdrop&&"static"!==n.getAttribute("data-backdrop")||"static",T.backdrop=!1!==y.backdrop&&"false"!==n.getAttribute("data-backdrop")&&T.backdrop,T.animation=!!n.classList.contains("fade"),T.content=y.content,n.isAnimating=!1,i&&!i.Modal&&i.addEventListener("click",H,!1),T.content&&w.setContent(T.content.trim()),i?(n.modalTrigger=i,i.Modal=w):n.Modal=w}var b="mousedown";function y(){return{y:window.pageYOffset||document.documentElement.scrollTop,x:window.pageXOffset||document.documentElement.scrollLeft}}function w(t,e,i,n){var a,o,s,l,c=e.offsetWidth,r=e.offsetHeight,d=document.documentElement.clientWidth||document.body.clientWidth,u=document.documentElement.clientHeight||document.body.clientHeight,m=t.getBoundingClientRect(),f=n===document.body?y():{x:n.offsetLeft+n.scrollLeft,y:n.offsetTop+n.scrollTop},h=m.right-m.left,g=m.bottom-m.top,p=e.classList.contains("popover"),v=e.getElementsByClassName("arrow")[0],L=m.top+g/2-r/2<0,b=m.left+h/2-c/2<0,w=m.left+c/2+h/2>=d,A=m.top+r/2+g/2>=u,T=m.top-r<0,E=m.left-c<0,k=m.top+r+g>=u,x=m.left+c+h>=d,C=i;C="right"===(C="left"===(C="bottom"===(C="top"===(C=("left"===C||"right"===C)&&E&&x?"top":C)&&T?"bottom":C)&&k?"top":C)&&E?"right":C)&&x?"left":C,-1===e.className.indexOf(C)&&(e.className=e.className.replace(/\b(top|bottom|left|right)+/,C));var N=v.offsetWidth,P=v.offsetHeight;"left"===C||"right"===C?(o="left"===C?m.left+f.x-c-(p?N:0):m.left+f.x+h,L?(a=m.top+f.y,s=g/2-N):A?(a=m.top+f.y-r+g,s=r-g/2-N):(a=m.top+f.y-r/2+g/2,s=r/2-(p?.9*P:P/2))):"top"!==C&&"bottom"!==C||(a="top"===C?m.top+f.y-r-(p?P:0):m.top+f.y+g,b?(o=0,l=m.left+h/2-N):w?(o=d-1.01*c,l=c-(d-m.left)+h/2-N/2):(o=m.left+f.x-c/2+h/2,l=c/2-(p?N:N/2))),e.style.top=a+"px",e.style.left=o+"px",s&&(v.style.top=s+"px"),l&&(v.style.left=l+"px")}function A(t,e){var i,n,a,r,d,f,h,g,p,v,L=e||{},y=this,A=null,T=0,E=/(iPhone|iPod|iPad)/.test(navigator.userAgent),k={};function x(t){null!==A&&t.target===s(".close",A)&&y.hide()}function C(){return{0:L.title||n.getAttribute("data-title")||null,1:L.content||n.getAttribute("data-content")||null}}function N(){null===A&&n.focus()}function P(t){var e=t?"addEventListener":"removeEventListener";"hover"===k.trigger?(n[e](b,y.show),n[e](u[0],y.show),k.dismissible||n[e](u[1],y.hide)):"click"===k.trigger?n[e](k.trigger,y.toggle):"focus"===k.trigger&&(E&&n[e]("click",N,!1),n[e](k.trigger,y.toggle))}function H(t){A&&A.contains(t.target)||t.target===n||n.contains(t.target)||y.hide()}function S(t){var e=t?"addEventListener":"removeEventListener";k.dismissible?document[e]("click",x,!1):("focus"===k.trigger&&n[e]("blur",y.hide),"hover"===k.trigger&&document[e]("touchstart",H,m)),window[e]("resize",y.hide,m)}function B(){S(1),c.call(n,g)}function M(){S(),k.container.removeChild(A),T=null,A=null,c.call(n,v)}y.toggle=function(){null===A?y.show():y.hide()},y.show=function(){clearTimeout(T),T=setTimeout((function(){if(null===A){if(c.call(n,h),h.defaultPrevented)return;!function(){var t;t=C(),a=t[0],r=(r=t[1])?r.trim():null,A=document.createElement("div");var e=document.createElement("div");if(e.classList.add("arrow"),A.appendChild(e),null!==r&&null===k.template){if(A.setAttribute("role","tooltip"),null!==a){var i=document.createElement("h3");i.classList.add("popover-header"),i.innerHTML=k.dismissible?a+f:a,A.appendChild(i)}var n=document.createElement("div");n.classList.add("popover-body"),n.innerHTML=k.dismissible&&null===a?r+f:r,A.appendChild(n)}else{var o=document.createElement("div");o.innerHTML=k.template.trim(),A.className=o.firstChild.className,A.innerHTML=o.firstChild.innerHTML;var l=s(".popover-header",A),c=s(".popover-body",A);a&&l&&(l.innerHTML=a.trim()),r&&c&&(c.innerHTML=r.trim())}k.container.appendChild(A),A.style.display="block",A.classList.contains("popover")||A.classList.add("popover"),A.classList.contains(k.animation)||A.classList.add(k.animation),A.classList.contains(d)||A.classList.add(d)}(),w(n,A,k.placement,k.container),A.classList.contains("show")||A.classList.add("show"),k.animation?o(A,B):B()}}),20)},y.hide=function(){clearTimeout(T),T=setTimeout((function(){if(A&&null!==A&&A.classList.contains("show")){if(c.call(n,p),p.defaultPrevented)return;A.classList.remove("show"),k.animation?o(A,M):M()}}),k.delay)},y.dispose=function(){y.hide(),P(),delete n.Popover},(n=s(t)).Popover&&n.Popover.dispose();var I=n.getAttribute("data-trigger"),D=n.getAttribute("data-animation"),X=n.getAttribute("data-placement"),O=n.getAttribute("data-dismissible"),R=n.getAttribute("data-delay"),W=n.getAttribute("data-container");f='<button type="button" class="close">Ã</button>',h=l("show","popover"),g=l("shown","popover"),p=l("hide","popover"),v=l("hidden","popover");var j=s(L.container),z=s(W),U=n.closest(".modal"),q=n.closest(".fixed-top"),Y=n.closest(".fixed-bottom");k.template=L.template?L.template:null,k.trigger=L.trigger?L.trigger:I||"hover",k.animation=L.animation&&"fade"!==L.animation?L.animation:D||"fade",k.placement=L.placement?L.placement:X||"top",k.delay=parseInt(L.delay||R,10)||200,k.dismissible=!(!L.dismissible&&"true"!==O),k.container=j||z||q||Y||U||document.body,d="bs-popover-"+k.placement,i=C(),a=i[0],((r=i[1])||k.template)&&(n.Popover||P(1),n.Popover=y)}function T(t,e){var i,n,a,o,r,d=e||{},u=this,f={};function h(){var t,e,l;(a=o.getElementsByTagName("A"),n.scrollTop=n.isWindow?y().y:i.scrollTop,n.length!==a.length||p()!==n.scrollHeight)&&(n.items=[],n.offsets=[],n.scrollHeight=p(),n.maxScroll=n.scrollHeight-(n.isWindow?window.innerHeight:i.getBoundingClientRect().height),Array.from(a).forEach((function(i){t=i.getAttribute("href"),(e=t&&"#"===t.charAt(0)&&"#"!==t.slice(-1)&&s(t))&&(n.items.push(i),l=e.getBoundingClientRect(),n.offsets.push((n.isWindow?l.top+n.scrollTop:e.offsetTop)-f.offset))})),n.length=n.items.length)}function g(t){var e=t?"addEventListener":"removeEventListener";r[e]("scroll",u.refresh,m),window[e]("resize",u.refresh,m)}function p(){return r.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}function v(){Array.from(a).map((function(t){return t.classList.contains("active")&&t.classList.remove("active")}))}function L(t){var e,a=t;v(),n.activeItem=a,a.classList.add("active");for(var o=[];a.parentNode!==document.body;)((e=(a=a.parentNode).classList).contains("dropdown-menu")||e.contains("nav"))&&o.push(a);o.forEach((function(t){var e=t.previousElementSibling;e&&!e.classList.contains("active")&&e.classList.add("active")})),c.call(i,l("activate","scrollspy",{relatedTarget:n.activeItem}))}u.refresh=function(){if(h(),n.scrollTop>=n.maxScroll){var t=n.items[n.length-1];n.activeItem!==t&&L(t)}else{if(n.activeItem&&n.scrollTop<n.offsets[0]&&n.offsets[0]>0)return n.activeItem=null,void v();for(var e=n.length;e>-1;)n.activeItem!==n.items[e]&&n.scrollTop>=n.offsets[e]&&(void 0===n.offsets[e+1]||n.scrollTop<n.offsets[e+1])&&L(n.items[e]),e-=1}},u.dispose=function(){g(),delete i.ScrollSpy},(i=s(t)).ScrollSpy&&i.ScrollSpy.dispose();var b=i.getAttribute("data-target"),w=i.getAttribute("data-offset");o=s(d.target||b),r=i.clientHeight<i.scrollHeight?i:window,o&&(f.offset=+(d.offset||w)||10,(n={}).length=0,n.items=[],n.offsets=[],n.isWindow=r===window,n.activeItem=null,n.scrollHeight=0,n.maxScroll=0,i.ScrollSpy||g(1),u.refresh(),i.ScrollSpy=u)}function E(t,i){var n,a,r,d,u,m,h,g,p,v,L,b,y,w,A=i||{},T=this,E=!1;function k(){E.style.height="",E.classList.remove("collapsing"),a.isAnimating=!1}function x(){E?y?k():setTimeout((function(){E.style.height=w+"px",f(E),o(E,k)}),50):a.isAnimating=!1,u=l("shown","tab",{relatedTarget:p}),c.call(g,u)}function C(){E&&(v.style.float="left",L.style.float="left",b=v.scrollHeight),d=l("show","tab",{relatedTarget:p}),h=l("hidden","tab",{relatedTarget:g}),c.call(g,d),d.defaultPrevented||(L.classList.add("active"),v.classList.remove("active"),E&&(w=L.scrollHeight,y=w===b,E.classList.add("collapsing"),E.style.height=b+"px",f(E),v.style.float="",L.style.float=""),L.classList.contains("fade")?setTimeout((function(){L.classList.add("show"),o(L,x)}),20):x(),c.call(p,h))}function N(){var t=a.getElementsByClassName("active");return 1!==t.length||t[0].parentNode.classList.contains("dropdown")?t.length>1&&(p=t[t.length-1]):p=t[0],p}function P(){return s(N().getAttribute("href"))}function H(t){t.preventDefault(),g=t.currentTarget,a.isAnimating||T.show()}T.show=function(){if(!(g=g||n).classList.contains("active")){if(L=s(g.getAttribute("href")),p=N(),v=P(),m=l("hide","tab",{relatedTarget:g}),c.call(p,m),m.defaultPrevented)return;a.isAnimating=!0,p.classList.remove("active"),p.setAttribute("aria-selected","false"),g.classList.add("active"),g.setAttribute("aria-selected","true"),r&&(n.parentNode.classList.contains("dropdown-menu")?r.classList.contains("active")||r.classList.add("active"):r.classList.contains("active")&&r.classList.remove("active")),v.classList.contains("fade")?(v.classList.remove("show"),o(v,C)):C()}},T.dispose=function(){n.removeEventListener("click",H,!1),delete n.Tab},(n=s(t)).Tab&&n.Tab.dispose();var S=n.getAttribute("data-height");a=n.closest(".nav"),r=a&&s(".dropdown-toggle",a);var B=!(!e||!1===A.height||"false"===S);a.isAnimating=!1,n.Tab||n.addEventListener("click",H,!1),B&&(E=P().parentNode),n.Tab=T}function k(t,e){var i,n,a,r,d,u,m=e||{},h=this,g=0,p={};function v(){n.classList.remove("showing"),n.classList.add("show"),c.call(n,d),p.autohide&&h.hide()}function L(){n.classList.add("hide"),c.call(n,u)}function b(){n.classList.remove("show"),p.animation?o(n,L):L()}function y(){clearTimeout(g),i.removeEventListener("click",h.hide,!1),delete i.Toast}h.show=function(){if(n&&!n.classList.contains("show")){if(c.call(n,a),a.defaultPrevented)return;p.animation&&n.classList.add("fade"),n.classList.remove("hide"),f(n),n.classList.add("showing"),p.animation?o(n,v):v()}},h.hide=function(t){if(n&&n.classList.contains("show")){if(c.call(n,r),r.defaultPrevented)return;t?b():g=setTimeout(b,p.delay)}},h.dispose=function(){p.animation?o(n,y):y()},(i=s(t)).Toast&&i.Toast.dispose(),n=i.closest(".toast");var w=i.getAttribute("data-animation"),A=i.getAttribute("data-autohide"),T=i.getAttribute("data-delay");a=l("show","toast"),r=l("hide","toast"),d=l("shown","toast"),u=l("hidden","toast"),p.animation=!1===m.animation||"false"===w?0:1,p.autohide=!1===m.autohide||"false"===A?0:1,p.delay=parseInt(m.delay||T,10)||500,i.Toast||i.addEventListener("click",h.hide,!1),i.Toast=h}function x(t,e){var i,n,a,r,d,f,h,g=e||{},p=this,v=null,L=0,y={};function A(){return i.getAttribute("title")||i.getAttribute("data-title")||i.getAttribute("data-original-title")}function T(t){v&&v.contains(t.target)||t.target===i||i.contains(t.target)||p.hide()}function E(t){var e=t?"addEventListener":"removeEventListener";document[e]("touchstart",T,m),window[e]("resize",p.hide,m)}function k(){E(1),c.call(i,d)}function x(){E(),y.container.removeChild(v),v=null,L=null,c.call(i,h)}function C(t){var e=t?"addEventListener":"removeEventListener";i[e](b,p.show,!1),i[e](u[0],p.show,!1),i[e](u[1],p.hide,!1)}p.show=function(){clearTimeout(L),L=setTimeout((function(){if(null===v){if(c.call(i,r),r.defaultPrevented)return;!1!==function(){if(n=A()){if(v=document.createElement("div"),y.template){var t=document.createElement("div");t.innerHTML=y.template.trim(),v.className=t.firstChild.className,v.innerHTML=t.firstChild.innerHTML,s(".tooltip-inner",v).innerHTML=n.trim()}else{var e=document.createElement("div");e.classList.add("arrow"),v.appendChild(e);var i=document.createElement("div");i.classList.add("tooltip-inner"),v.appendChild(i),i.innerHTML=n}v.style.left="0",v.style.top="0",v.setAttribute("role","tooltip"),v.classList.contains("tooltip")||v.classList.add("tooltip"),v.classList.contains(y.animation)||v.classList.add(y.animation),v.classList.contains(a)||v.classList.add(a),y.container.appendChild(v)}}()&&(w(i,v,y.placement,y.container),v.classList.contains("show")||v.classList.add("show"),y.animation?o(v,k):k())}}),20)},p.hide=function(){clearTimeout(L),L=setTimeout((function(){if(v&&v.classList.contains("show")){if(c.call(i,f),f.defaultPrevented)return;v.classList.remove("show"),y.animation?o(v,x):x()}}),y.delay)},p.toggle=function(){v?p.hide():p.show()},p.dispose=function(){C(),p.hide(),i.setAttribute("title",i.getAttribute("data-original-title")),i.removeAttribute("data-original-title"),delete i.Tooltip},(i=s(t)).Tooltip&&i.Tooltip.dispose();var N=i.getAttribute("data-animation"),P=i.getAttribute("data-placement"),H=i.getAttribute("data-delay"),S=i.getAttribute("data-container"),B=s(g.container),M=s(S),I=i.closest(".modal");r=l("show","tooltip"),d=l("shown","tooltip"),f=l("hide","tooltip"),h=l("hidden","tooltip");var D=i.closest(".fixed-top"),X=i.closest(".fixed-bottom");y.animation=g.animation&&"fade"!==g.animation?g.animation:N||"fade",y.placement=g.placement?g.placement:P||"top",y.template=g.template?g.template:null,y.delay=parseInt(g.delay||H,10)||200,y.container=B||M||D||X||I||document.body,a="bs-tooltip-"+y.placement,(n=A())&&(i.Tooltip||(i.setAttribute("data-original-title",n),i.removeAttribute("title"),C(1)),i.Tooltip=p)}var C={};function N(t){var e=t instanceof Element?t:document;Object.keys(C).forEach((function(t){var i,n;i=C[t][0],n=e.querySelectorAll(C[t][1]),Array.from(n).map((function(t){return new i(t)}))}))}C.Alert=[r,'[data-dismiss="alert"]'],C.Button=[d,'[data-toggle="buttons"]'],C.Carousel=[h,'[data-ride="carousel"]'],C.Collapse=[g,'[data-toggle="collapse"]'],C.Dropdown=[v,'[data-toggle="dropdown"]'],C.Modal=[L,'[data-toggle="modal"]'],C.Popover=[A,'[data-toggle="popover"],[data-tip="popover"]'],C.ScrollSpy=[T,'[data-spy="scroll"]'],C.Tab=[E,'[data-toggle="tab"]'],C.Toast=[k,'[data-dismiss="toast"]'],C.Tooltip=[x,'[data-toggle="tooltip"],[data-tip="tooltip"]'],document.body?N():document.addEventListener("DOMContentLoaded",(function t(){N(),document.removeEventListener("DOMContentLoaded",t,!1)}),!1);return{Alert:r,Button:d,Carousel:h,Collapse:g,Dropdown:v,Modal:L,Popover:A,ScrollSpy:T,Tab:E,Toast:k,Tooltip:x,initCallback:N,removeDataAPI:function(t){var e=t instanceof Element?t:document;Object.keys(C).forEach((function(t){var i,n;i=t,n=e.querySelectorAll(C[t][1]),Array.from(n).map((function(t){return t[i].dispose()}))}))},componentsInit:C,Version:"3.0.15"}}));
var slice$=[].slice;!function(){var e;if(e=function(e,n){var l,u,r;return"number"==typeof e&&null==n?new Promise(function(n,l){return setTimeout(function(){return n()},e)}):("function"==typeof n&&(e=(l=[n,e])[0],n=l[1]),n||(n={}),l="object"==typeof e?[e.func,e]:[e,{delay:"object"==typeof n?n.delay||750:n}],e=l[0],n=l[1],u={},r=function(){var l,t,o,c,i=this;return l=slice$.call(arguments),t=!1,o=r.delay.value||n.delay||750,r.delay.value=0,c=new Promise(function(n,c){if(!t)return u.h&&r.clear(),u.res=n,u.rej=c,u.h=setTimeout(function(){var r;return(r=e.apply(i,l))&&"function"==typeof r.then?r.then(function(){var e;return e=slice$.call(arguments),n.apply(null,e)}):n(r),u.res=null,u.rej=null,u.h=0,u},o)}),c.now=function(){return t=!0,r.clear(),e.apply(i,l)},c.cancel=function(){return r.clear()},c},r.clear=function(){return clearTimeout(u.h),u.res&&u.res(null),u.h=0,u.res=null,u.rej=null,u},r.delay=function(e){return r.delay.value=e,r},r)},"undefined"!=typeof module&&null!==module&&(module.exports=e),"undefined"!=typeof window&&null!==window)window.debounce=e}();
!function(){var i,o;function n(t,e){var n,r={}.hasOwnProperty;for(n in e)r.call(e,n)&&(t[n]=e[n]);return t}i=function(t,e,n){var r;for(null==n&&(n=document),r=t;r&&r!==n;)r=r.parentNode;if(r!==n)return null;for(r=t;r&&r!==n&&r.matches&&!r.matches(e);)r=r.parentNode;return r!==n||n.matches&&n.matches(e)?r:null},(o=function(t){var e;return null==t&&(t={}),this.evtHandler={},this.opt=n({delay:300,autoZ:!0,baseZ:3e3,escape:!0,byDisplay:!0},t),t.zmgr&&this.zmgr(t.zmgr),this.promises=[],this._r=t.root?"string"==typeof t.root?document.querySelector(t.root):t.root:((e=document.createElement("div")).innerHTML='<div class="base"></div>',e),this.cls="string"==typeof t.type?t.type.split(" "):t.type,this.resident=null!=t.resident&&t.resident,this.inPlace=null==t.inPlace||t.inPlace,this.container="string"==typeof t.container?document.querySelector(t.container):t.container,this._r.content&&this._r.content.nodeType===Element.DOCUMENT_FRAGMENT_NODE||this.init(),this}).prototype=n(Object.create(Object.prototype),{root:function(){return this.inited||this.init(),this._r},init:function(){var t,n,r=this;if(!this.inited)return this.inited=!0,this.inPlace||(this._r.parentNode.removeChild(this._r),document.body.appendChild(this._r)),!this.resident&&this._r.parentNode&&(this._c=document.createComment(" ldcover placeholder "),this._r.parentNode.insertBefore(this._c,this._r),this._r.parentNode.removeChild(this._r)),this._r.content&&this._r.content.nodeType===Element.DOCUMENT_FRAGMENT_NODE&&(this._r=this._r.content.cloneNode(!0).childNodes[0],this._r.parentNode.removeChild(this._r)),(t=this._r.getAttribute("data-lock"))&&"true"===t&&(this.opt.lock=!0),this.inner=this._r.querySelector(".inner"),this.base=this._r.querySelector(".base"),this._r.classList.add.apply(this._r.classList,["ldcv"].concat(this.cls||[])),this.opt.byDisplay&&(this._r.style.display="none"),n=null,this._r.addEventListener("mousedown",function(t){return n=t.target}),this._r.addEventListener("click",function(t){var e;return n!==r._r||r.opt.lock?i(t.target,"*[data-ldcv-cancel]",r._r)?r.cancel():(t=i(t.target,"*[data-ldcv-set]",r._r))&&null!=(e=t.getAttribute("data-ldcv-set"))&&!i(t,".disabled",r._r)?r.set(e):void 0:r.toggle(!1)})},zmgr:function(t){return null!=t?this._zmgr=t:this._zmgr},append:function(t){var e=this._r.childNodes[0];return(e&&e.classList.contains("base")?e:this._r).appendChild(t)},get:function(n){var r=this;return new Promise(function(t,e){return r.promises.push({res:t,rej:e}),r.toggle(!0,n)})},cancel:function(e,t){if(null==t&&(t=!0),this.promises.splice(0).map(function(t){return t.rej(e||((t=new Error).name="lderror",t.id=999,t))}),t)return this.toggle(!1)},set:function(e,t){if(null==t&&(t=!0),this.promises.splice(0).map(function(t){return t.res(e)}),t)return this.toggle(!1)},isOn:function(){return this._r.classList.contains("active")},lock:function(){return this.opt.lock=!0},toggle:function(e,i){var s=this;return new Promise(function(n,t){var r;return s.inited||s.init(),e&&null!=i&&s.fire("data",i),null==e&&s._r.classList.contains("running")||null!=e&&s._r.classList.contains("active")===!!e?n():((r=null!=e?e:!s._r.classList.contains("active"))&&!s._r.parentNode&&(null==s.container&&s._c&&s._c.parentNode?s._c.parentNode.insertBefore(s._r,s._c):(s.container||document.body).appendChild(s._r)),s._r.classList.add("running"),s.opt.byDisplay&&(s._r.style.display="block"),s._r.classList.contains("inline")&&(r?(s.h=function(t){if(!s._r.contains(t.target))return s.toggle(!1)},window.addEventListener("click",s.h)):s.h&&window.removeEventListener("click",s.h)),setTimeout(function(){var e,t;return s._r.classList.toggle("active",r),!s.opt.lock&&s.opt.escape&&r&&(e=function(t){if(27===t.keyCode&&(t=o.popups)[t.length-1]===s)return s.toggle(!1),document.removeEventListener("keyup",e)},document.addEventListener("keyup",e)),s.opt.animation&&s.inner&&s.inner.classList[r?"add":"remove"].apply(s.inner.classList,s.opt.animation.split(" ")),r?o.popups.push(s):0<=(t=o.popups.indexOf(s))&&o.popups.splice(t,1),s.opt.autoZ&&(r?s._r.style.zIndex=s.z=(s._zmgr||o._zmgr).add(s.opt.baseZ):((s._zmgr||o._zmgr).remove(s.z),delete s.z)),s.opt.transformFix&&!r&&s._r.classList.remove("shown"),setTimeout(function(){return s._r.classList.remove("running"),s.opt.transformFix&&r&&s._r.classList.add("shown"),!r&&s.opt.byDisplay&&(s._r.style.display="none"),r||!s._r.parentNode||s.resident||s._r.parentNode.removeChild(s._r),!r&&s.opt.autoZ&&(s._r.style.zIndex=""),s.fire("toggled."+(r?"on":"off"))},s.opt.delay),s.promises.length&&!r&&s.set(void 0,!1),s.fire("toggle."+(r?"on":"off")),n()},50))})},on:function(t,n){var r=this;return(Array.isArray(t)?t:[t]).map(function(t){var e;return((e=r.evtHandler)[t]||(e[t]=[])).push(n)})},fire:function(t){for(var e,n,r,i,s=[],o=[],l=1,a=arguments.length;l<a;++l)o.push(arguments[l]);for(e=o,l=0,r=(n=this.evtHandler[t]||[]).length;l<r;++l)i=n[l],s.push(i.apply(this,e));return s}}),n(o,{popups:[],_zmgr:{add:function(t){return(this.s||(this.s=[])).push(t=Math.max(t||0,((t=this.s)[t.length-1]||0)+1)),t},remove:function(t){if(!((t=(this.s||(this.s=[])).indexOf(t))<0))return this.s.splice(t,1)}},zmgr:function(t){return null!=t?this._zmgr=t:this._zmgr}}),"undefined"!=typeof module&&null!==module?module.exports=o:window&&(window.ldcover=o)}.call(this);
!function(){var u;function t(t,n){var r,e={}.hasOwnProperty;for(r in n)e.call(n,r)&&(t[r]=n[r]);return t}(u=function(r){var e=this;return null==r&&(r={}),this.opt=t({activeClass:"running",baseZ:4e3,autoZ:!1,className:"",atomic:!0},r),this._toggler="function"==typeof r.toggler?r.toggler:function(){},r.zmgr&&this.zmgr(r.zmgr),["root","container"].map(function(t){var n;if(r[t])return n=Array.isArray(r[t])?r[t]:r[t]instanceof NodeList?Array.from(r[t]):[r[t]],e[t]=n.map(function(t){var n="string"==typeof t?document.querySelector(t):t;return n||console.warn("[ldloader] warning: no node found for "+t),n})}),this.container||(this.container=this.root?this.root.map(function(t){return t.parentNode}):[document.body]),this.root||(this.root=this.container.map(function(t){var n=document.createElement("div");return t.appendChild(n),n})),this.root.map(function(t){if(t.classList.add.apply(t.classList,(e.opt.className||"").split(" ").filter(function(t){return t})),t.classList.remove(r.activeClass),r.inactiveClass)return t.classList.add(r.inactiveClass)}),this.running=!1,this.count=0,this}).prototype=t(Object.create(Object.prototype),{zmgr:function(t){return null!=t?this._zmgr=t:this._zmgr},isOn:function(){return this.running},on:function(t){return this.toggle(!0,t=null==t?0:t)},off:function(t,n){return this.toggle(!1,t=null==t?0:t,n=null==n?!1:n)},cancel:function(t){if(clearTimeout(this.handle),null!=t)return this.toggle(t)},flash:function(t,n){var r=this;return null==t&&(t=1e3),null==n&&(n=0),this.toggle(!0,n).then(function(){return r.toggle(!1,t+n)})},render:function(){var t,r,e=this;return this.running&&this.opt.ctrl&&this.opt.ctrl.step?(this.render.runid=t=Math.random(),this.render.start=0,this.opt.ctrl.init&&this.root.map(function(t){return e.opt.ctrl.init.call(t)}),r=function(n){return e.render.start||(e.render.start=n),e.root.map(function(t){return e.opt.ctrl.step.call(t,n-e.render.start)}),e.render.runid===t?requestAnimationFrame(function(t){return r(t)}):e.opt.ctrl.done?e.root.map(function(t){return e.opt.ctrl.done.call(t,n-e.render.start)}):void 0},requestAnimationFrame(function(t){return r(t)})):this.render.runid=-1},toggle:function(r,e,o){var i,s=this;return null==e&&(e=0),null==o&&(o=!1),i=null==r?this.root[0].classList.contains(this.opt.activeClass)?-1:1:r?1:-1,this.handle&&this.cancel(),e?new Promise(function(t,n){return s.handle=setTimeout(function(){return s.toggle(r).then(function(){return t()})},e)}):new Promise(function(t,n){var r,e;return s.count=0<(e=s.count+i)?e:0,o||s.opt.atomic||!(2<=s.count||1===s.count&&i<0)?(s.root.map(function(t){if(t.classList.toggle(s.opt.activeClass,0<i),s.opt.inactiveClass)return t.classList.toggle(s.opt.inactiveClass,i<0)}),s.running=r=s.root[0].classList.contains(s.opt.activeClass),s.opt.ctrl&&s.render(),s.opt.autoZ&&(e=s._zmgr||u._zmgr,r?(s.z=e.add(s.opt.baseZ),s.root.map(function(t){return t.style.zIndex=s.z})):e.remove(s.z)),t()):t()}).then(function(){return s._toggler(0<i)})}}),t(u,{_zmgr:{add:function(t){return(this.s||(this.s=[])).push(t=Math.max(t||0,((t=this.s)[t.length-1]||0)+1)),t},remove:function(t){if(!((t=(this.s||(this.s=[])).indexOf(t))<0))return this.s.splice(t,1)}},zmgr:function(t){return null!=t?this._zmgr=t:this._zmgr}}),"undefined"!=typeof module&&null!==module?module.exports=u:"undefined"!=typeof window&&null!==window&&(window.ldloader=u)}.call(this);
!function(){var o,i;function s(r,e){var t,n={}.hasOwnProperty;for(t in e)n.call(e,t)&&(r[t]=e[t]);return r}o={0:"unknown lderror",998:"skipped",999:"canceled",1e3:"user not login",1001:"suspicious user",1002:"unknown error",1003:"image process failed",1004:"quota exceeded",1005:"csrftoken mismatch",1006:"timeout",1007:"server down",1008:"unable to parse user data",1009:"bot",1010:"captcha error",1011:"resource conflict",1012:"permission denied",1013:"expire",1014:"apply for a resource that already exists",1015:"bad parameter",1016:"feature not yet available",1017:"resource corrupted",1018:"no consent",1019:"wrong domain",1020:"not supported",1021:"email not verified",1022:"missing dependency",1023:"lderror testing",1024:"limited by throttling",1025:"runtime error",1026:"not applicable",1027:"missing config",1028:"resource unavailable",1029:"session data corrupted",1030:"password mismatched",1031:"weak password",1032:"credential scheme mismatched"},(i=function(r,e){var t,n;return null==r&&(r=""),null==e&&(e=0),this instanceof i?(t=(isNaN(+e)?0:+e)||r.id||0,"string"==typeof r?(this.message=r,this.id=t):r instanceof Error?(this.stack=r.stack,this.message=r.message,this.id=t):"object"==typeof r?(delete r.__proto__,delete r.constructor,s(this,r).id=t):"number"==typeof r&&(this.id=r,"string"==typeof e&&(this.message=e),this.message||(this.message=(n=o[this.id||0])?n:100<=this.id&&this.id<600?"http code: "+this.id:o[0]+" (id: "+(this.id||0)+")")),this.name=i.prototype.name,this.stack=(n=s(new Error,this)).stack,this.error=n,this):new i(r,e)}).prototype=s(Object.create(Error.prototype),{name:"lderror",toString:function(r){var e;return null==r&&(r={}),e=this.toObject(),null==r.stack||r.stack||delete e.stack,JSON.stringify(e)},toObject:function(){var r={name:this.name};return r.id=this.id,r.message=this.message,r.stack=this.stack,r}}),i.id=function(r){return"object"==typeof r&&"lderror"===r.name&&r.id?r.id:0},i.message=function(r){return"number"==typeof r?o[r]||o[0]:"object"==typeof r&&o[r.id]||o[0]},i.reject=function(r,e){return Promise.reject(new i(r,e))},i.handler=function(r){var o=this;return this.i=((r=null==r?{}:r).ignore||[]).concat([999]),this.h=r.handler,this.r=r.rule||function(r){return r},this.s={},(r=function(r){var e;if(!function(r,e){var t=-1,n=e.length>>>0;for(;++t<n;)if(r===e[t])return!0;return!1}(e=i.id(r),o.i)&&(o.s[e]=1,o.h(o.r(e),r).then(function(){return o.s[e]=0}),!e))throw console.log(r),r}).isOn=function(){var t,n;return!!function(){var r,e=[];for(t in r=this.s)n=r[t],e.push(n);return e}.call(o).filter(function(r){return r}).length},r},i.eventHandler={error:function(r){return!(!r.error||"lderror"!==r.error.name||!r.error.error||r.error===r.error.error)&&(console.warn("uncaught lderror",r.error),console.warn("with its internal Error object thrown:"),r.preventDefault(),setTimeout(function(){throw r.error.error},0),!0)},rejection:function(r){if(r.reason&&"lderror"===r.reason.name&&r.reason.error)throw console.warn("Unhandled rejection with lderror:",r.reason),console.warn("with its internal Error object thrown:"),r.reason.error;return!1}},"undefined"!=typeof module&&null!==module?module.exports=i:"undefined"!=typeof window&&null!==window&&(window.lderror=i)}.call(this);
!function(){var v,w;function _(t,e){var n,i={}.hasOwnProperty;for(n in e)i.call(e,n)&&(t[n]=e[n]);return t}function y(t,e){for(var n=-1,i=e.length>>>0;++n<i;)if(t===e[n])return!0;return!1}v=function(e,t,n){return e.node.addEventListener(t,function(t){return n(_({evt:t},e))})},(w=function(t){var e,n,i,r,o,s,a,c,h,d,l=this;for(null==t&&(t={}),this.evtHandler={},this._ctxs=t.ctxs||null,this.views=[this].concat(t.baseViews||[]),this._ctx=t.context||t.ctx||null,t.context&&console.warn("[ldview] `context` is deprecated. use `ctx` instead."),this.attr=t.attr||{},this.style=t.style||{},this.handler=t.handler||{},this.action=t.action||{},this.text=t.text||{},this.initer=t.init||{},this.prefix=t.prefix,this.global=t.global||!1,this.ld=this.global?"pd":"ld",this.initRender=null==t.initRender||t.initRender,this.root="string"==typeof t.root?ld$.find(document,t.root,0):t.root,this.root||console.warn("[ldview] warning: no node found for root ",t.root),this.root.setAttribute&&!this.global&&(this.id="ld-"+Math.random().toString(36).substring(2),this.root.setAttribute("ld-scope-"+this.id,"")),(this.template=t.template)&&(this.root.textContent="",this.root.appendChild(this.template.cloneNode(!0))),"function"==typeof this._ctx&&(this._ctx=this._ctx({node:this.root,ctxs:this._ctxs,views:this.views})),this.update(),e={},n=0,s=(i=[function(){var t=[];for(r in this.initer)t.push(r);return t}.call(this)].concat([function(){var t=[];for(r in this.attr)t.push(r);return t}.call(this)],[function(){var t=[];for(r in this.style)t.push(r);return t}.call(this)],[function(){var t=[];for(r in this.text)t.push(r);return t}.call(this)],[function(){var t=[];for(r in this.handler)t.push(r);return t}.call(this)],function(){var t,e=[];for(r in t=this.action)o=t[r],e.push(o);return e}.call(this).map(function(t){var e,n=[];for(e in t)n.push(e);return n}))).length;n<s;++n)for(c=0,h=(a=i[n]).length;c<h;++c)e[a[c]]=!0;for(r in d=[],e)d.push(r);return this.names=d,this.initRender&&this.init().then(function(){return l.render()}),this}).prototype=_(Object.create(Object.prototype),{update:function(t){var e,n,i,r,o,s,a=this;if(null==t&&(t=this.root),this.nodes||(this.nodes=[]),this.eaches||(this.eaches=[]),this.map||(this.map={nodes:{},eaches:{}}),e=this.prefix?"["+this.ld+"-each^="+this.prefix+"\\$]":"["+this.ld+"-each]",n=this.global?[]:ld$.find(t,(this.id?"[ld-scope-"+this.id+"] ":"")+"[ld-scope] "+e),i=ld$.find(t,e),r=this.eaches.map(function(t){return t.n}),o=i.filter(function(t){return!y(t,n)}).filter(function(t){return!y(t,r)}).map(function(t){var e,n,i,r;if(!t.parentNode)return null;try{if(ld$.parent(t.parentNode,"*["+a.ld+"-each]"))return null}catch(t){0}return e=t.getAttribute(a.ld+"-each"),a.handler[e]?(n=t.parentNode,i={idx:Array.from(n.childNodes).indexOf(t),node:t,name:e,nodes:[]},r=document.createComment(" "+a.ld+"-each="+e+" "),a.handler[e].host||n.insertBefore(r,t),n.removeChild(t),(r._data=i).proxy=r,i.container=(t=a.handler[e].host)?new t({root:n}):n,i):null}).filter(function(t){return t}),this.eaches=this.eaches.concat(o),o.map(function(t){var e,n;return((e=a.map.eaches)[n=t.name]||(e[n]=[])).push(t)}),e=this.prefix?"["+this.ld+"^="+this.prefix+"\\$]":"["+this.ld+"]",n=this.global?[]:ld$.find(t,(this.id?"[ld-scope-"+this.id+"] ":"")+"[ld-scope] "+e),o=(i=ld$.find(t,e)).filter(function(t){return!(y(t,n)||y(t,a.nodes))}),this.nodes=this.nodes.concat(o),s=this.prefix?new RegExp("^"+this.prefix+"\\$"):null,o.map(function(n){var i=(n.getAttribute(a.ld)||"").split(" ");return(i=a.prefix?i.map(function(t){return t.replace(s,"").trim()}):i).map(function(t){var e;return((e=a.map.nodes)[t]||(e[t]=[])).push({node:n,names:i,local:{},evts:{}})})}),!this.map.nodes["@"])return this.map.nodes["@"]=[{node:this.root,names:"@",local:{},evts:{}}]},procEach:function(n,i,e,r){var o,s,a,c,t,h,d,l,u,f,p,x,m,v,w=this;for(null==e&&(e=null),o=this.handler[n].list({name:i.name,node:i.node,views:this.views,context:this._ctx,ctx:this._ctx,ctxs:this._ctxs})||[],s=this.handler[n].key,a={},c=[],s?o.map(function(t){return a[s(t)]=t}):s=function(t){return t},t=i.nodes.filter(function(t){return t}).map(function(t){var e=s(t._data);return"object"!=typeof e&&!a[e]||"object"==typeof e&&!y(t._data,o)?(i.container.removeChild(t),t._data=null):c.push(e),t}).filter(function(t){return t._data}),(h=Array.from(i.container.childNodes).indexOf(i.proxy))<0&&(h=i.container.childNodes.length),d=[],l=o.length-1;0<=l;--l)f=o[u=l],0<=(p=c.indexOf(s(f)))?((x=t[p])._data=f,x._obj||(x._obj={node:x,name:n,idx:u,local:{}}),x._obj.data=f,Array.from(i.container.childNodes).indexOf(x)!==(m=h-(o.length-u))&&(i.container.removeChild(x),m=(h=(h=Array.from(i.container.childNodes).indexOf(i.proxy))<0?i.container.childNodes.length:h)-(o.length-u),i.container.insertBefore(x,i.container.childNodes[m+1]),h+=1)):((x=i.node.cloneNode(!0))._data=f,x._obj={node:x,name:n,data:f,idx:u,local:{}},x.removeAttribute(this.ld+"-each"),m=h-(o.length-u),i.container.insertBefore(x,i.container.childNodes[m+1]),h+=1),d.splice(0,0,x);return v=d.filter(function(t){return t}),v=(v=null!=e?v.filter(function(t){return y(s(t._obj.data),e)}):v).map(function(t,e){return w._render(n,t._obj,e,w.handler[n],!0,r)}),i.container.update&&i.container.update(),i.nodes=d,Promise.all(v)},get:function(t){return((this.map.nodes[t]||[])[0]||{}).node},getAll:function(t){return(this.map.nodes[t]||[]).map(function(t){return t.node})},_render:function(e,t,n,s,i,r){var o,a,c,h,d,l,u,f,p,x,m=[];t.ctx=this._ctx,t.context=this._ctx,t.ctxs=this._ctxs,t.views=this.views,s?s.view?(o=function(t){var e=t.node,n=t.local,i=t.data,r=t.ctx,o=t.ctxs,t=t.views;return n._view=new w(((i=_({ctx:i},s.view)).initRender=!1,i.root=e,i.baseViews=t,i.ctxs=o?[r].concat(o):[r],i)),n._view.init()},a=function(t){var e=t.local,t=t.data;return i&&e._view.ctx(t),e._view.render()}):(o=s.init||null,a=s.handler||s.handle||null,c=s.text||null,h=s.attr||null,d=s.style||null,l=s.action||{}):(o=(u=[this.initer[e],this.handler[e],this.attr[e],this.style[e],this.text[e],this.action])[0],a=u[1],h=u[2],d=u[3],c=u[4],l=u[5]);try{if(o&&!(t.inited||(t.inited={}))[e]&&(t.inited[e]=Promise.resolve(o(t)).then(function(){return t.inited[e]=!0})),r)return Promise.resolve((t.inited||(t.inited={}))[e]);if(a&&a(t),c&&(t.node.textContent="function"==typeof c?c(t):c),h)for(f in u=h(t)||{})p=u[f],t.node.setAttribute(f,p);if(d)for(f in u=d(t)||{})p=u[f],t.node.style[f]=p;for(f in u=l||{})(p=u[f])&&(x=s?p:p[e])&&!(t.evts||(t.evts={}))[f]&&(v(t,f,x),m.push(t.evts[f]=!0));return m}catch(t){throw i=t,console.warn("[ldview] failed when rendering "+e+":",i),i}},bindEachNode:function(t){var e=t.name,n=t.container,i=t.idx,t=t.node;if(e=this.map.eaches[e].filter(function(t){return t.container===n})[0])return null!=i?e.nodes.splice(i,0,t):e.nodes.push(t)},unbindEachNode:function(t){var e=t.name,n=t.container,i=t.idx,t=t.node;if(e=this.map.eaches[e].filter(function(t){return t.container===n})[0])return t&&!i&&(i=e.nodes.indexOf(t)),e.nodes.splice(i,1)},init:function(t){for(var e,n=[],i=1,r=arguments.length;i<r;++i)n.push(arguments[i]);return e=n,this._prerender("init",t,e)},render:function(t){for(var e,n=[],i=1,r=arguments.length;i<r;++i)n.push(arguments[i]);return e=n,this._prerender("render",t,e)},_prerender:function(t,e,n){var r,o,s=this,a="init"===t;return this.fire("beforeRender"),r=function(n){var t,e,i=[];return"object"==typeof n&&(t=[n.name,n.key],n=t[0],e=t[1],Array.isArray(e)||(e=[e])),s.map.nodes[n]&&(i=i.concat(s.map.nodes[n].map(function(t,e){return t.name=n,t.idx=e,s._render(n,t,e,"object"==typeof s.handler[n]?{view:s.handler[n]}:null,!1,a)}))),s.map.eaches[n]&&s.handler[n]&&(i=i.concat(s.map.eaches[n].map(function(t){return s.procEach(n,t,e,a)}))),Promise.all(i)},t=e?(Array.isArray(e)?e:[e]).concat(n).map(r):function(){for(var t,e=[],n=0,i=(t=this.names).length;n<i;++n)o=t[n],e.push(r(o));return e}.call(this),this.fire("afterRender"),Promise.all(t)},setContext:function(t){return console.warn("[ldview] `setContext` is deprecated. use `ctx(...)` instead."),this._ctx=t},setCtx:function(t){return console.warn("[ldview] `setCtx` is deprecated. use `ctx(...)` instead."),this._ctx=t},ctx:function(t){return arguments.length?this._ctx=t:this._ctx},on:function(t,e){var n;return((n=this.evtHandler)[t]||(n[t]=[])).push(e)},fire:function(t){for(var e,n,i,r,o=[],s=[],a=1,c=arguments.length;a<c;++a)s.push(arguments[a]);for(e=s,a=0,i=(n=this.evtHandler[t]||[]).length;a<i;++a)r=n[a],o.push(r.apply(this,e));return o}}),"undefined"!=typeof module&&null!==module&&(module.exports=w),"undefined"!=typeof window&&null!==window&&(window.ldView=window.ldview=w)}.call(this);
!function(){var t=/(\D*)([^-]+)-?([.0-9a-zA-Z]*)(\+?[.0-9a-zA-Z]*)/,a=function(r){var e=t.exec(r),n=e[1]||"",r=e[2].split(".");return[+(r[0]||0),+(r[1]||0),+(r[2]||0),e[3]||"",e[4]||"",n]},r=function(r,e){var n,t,u,i=[Array.isArray(r)?r:a(r),Array.isArray(e)?e:a(e)];for(r=i[0],e=i[1],n=function(){switch(e[5]){case"^":return 0;case"~":return 1;case">":case">=":return-1;default:return 2}}(),t=0;t<3;++t){if((u=t)<=n&&r[u]!==e[u])return!1;if(r[u]<e[u])return!1}return!0};"undefined"!=typeof module&&null!==module?module.exports={parse:a,fit:r}:"undefined"!=typeof window&&null!==window&&(window.semver={parse:a,fit:r})}.call(this);
(function(){var e,t,n,r,i,o,u,a;"undefined"!=typeof module&&null!==module&&"undefined"!=typeof require&&null!==require&&(e=require("@plotdb/json0")),t=function(e,t){var n,r,i,o;for(null==e&&(e=[]),null==t&&(t=""),t=(n=(t=t.split("@"))[0]?[t[0],t[1]]:["@"+t[1],t[2]])[0],n[1],r=0,i=e.length;r<i;++r)if(o=r,t===e[o].name)return e[o];return null},n=function(e,t){if(Array.isArray(e.attr)&&e.attr.filter(function(e){return e&&e[0]}).map(function(e){return t.setAttribute(e[0],e[1])}),Array.isArray(e.style)&&e.style.filter(function(e){return e&&e[0]}).map(function(e){return t.style[e[0]]=e[1]}),Array.isArray(e.cls))return t.classList.add.apply(t.classList,e.cls.filter(function(e){return e}))},r=function(e,n,r){var i;return null==r&&(r=window),n=Array.isArray(n)?n:n?[n]:[],i=[],Promise.resolve().then(function(){var r;return(r=function(e){var o,u,a,s,l,d,c,p,h,f,m;switch(o=e.nodeName.toLowerCase()){case"#text":return{type:"text",value:e.nodeValue};case"#comment":return{type:"comment",value:e.nodeValue};case"#document-fragment":for(u={type:"document-fragment",child:[]},a=0,s=e.childNodes.length;a<s;++a)l=a,(d=r(e.childNodes[l]))&&u.child.push(d);return u;default:if(c=e.style?function(){var t,n,r=[];for(t=0,n=e.style.length;t<n;++t)l=t,r.push(l);return r}().map(function(t){return[e.style[t],e.style[e.style[t]]]}):[],p=e.attributes?function(){var t,n,r,i=[];for(t=0,r=(n=e.attributes).length;t<r;++t)h=n[t],i.push([h.nodeName,h.nodeValue]);return i}().filter(function(e){var t;return!(/^dd-/.exec(e[0])||"style"===(t=e[0])||"class"===t)}):[],f=e.classList?function(){var t,n,r,i=[];for(t=0,r=(n=e.classList).length;t<r;++t)h=n[t],i.push(h);return i}():[],u={style:c,attr:p,cls:f,child:[],plug:[]},!e.hasAttribute("dd-plugin")){for(a=0,s=e.childNodes.length;a<s;++a)l=a,(d=r(e.childNodes[l]))&&u.child.push(d);return u.type="tag",u.name=o,u}return u.type="custom",(m=t(n,e.getAttribute("dd-plugin")))?(u.plugin=m.name+"@"+m.version,(d=m.serialize({data:u,node:e,window:window,plugins:n}))instanceof Promise&&i.push(d),u):(u.plugin="unknown",u)}})(e)}).then(function(e){return{data:e,promise:Promise.all(i)}})},i=function(e,r,i){var o,u;return null==i&&(i=window),r=Array.isArray(r)?r:r?[r]:[],o=i.document,u=[],Promise.resolve().then(function(){var a;return(a=function(e){var s,l,d,c,p,h,f,m,y,g,v;switch(e.type){case"text":return o.createTextNode(e.value);case"comment":return o.createComment(e.value);case"document-fragment":for(s=o.createDocumentFragment(),l=0,c=(d=e.child||[]).length;l<c;++l)p=d[l],(h=a(p))&&s.appendChild(h);return s;case"tag":for(s=o.createElement(e.name),n(e,s),l=0,c=(d=e.child||[]).length;l<c;++l)p=d[l],(h=a(p))&&s.appendChild(h);return s;default:for(d=[o.createElement("div"),null],s=d[0],f=d[1],l=0,c=(d=e.child||[]).length;l<c;++l)p=d[l],(h=a(p))&&s.appendChild(h);for(y=[],l=0,c=(d=e.plug||[]).length;l<c;++l)p=d[l],y.push(a(p));return m=y,(g=t(r,e.plugin))?((h=g.deserialize({data:e,node:s,plugs:m,window:i,plugins:r}))?h instanceof Promise?(s.appendChild(v=o.createTextNode("(.. loading ..)")),f=h.then(function(t){return v.parentNode&&v.parentNode.removeChild(v),s!==t&&s.replaceWith(t),t.setAttribute("dd-plugin",g.name+"@"+g.version),n(e,t),t})):h instanceof i.Element?s=h:(s=h.node,f=h.promise):s.appendChild(o.createTextNode("(unknown)")),f&&u.push(f),s.setAttribute("dd-plugin",g.name+"@"+g.version),n(e,s),s):(s.appendChild(o.createTextNode("(unknown)")),s)}})(e)}).then(function(e){return{node:e,promise:Promise.all(u)}})},o=function(e,n,r){var i;return null==r&&(r=window),n=Array.isArray(n)?n:n?[n]:[],i=[],Promise.resolve().then(function(){var r;return(r=function(o){var u,a,s,l,d;if(o.hasAttribute("dd-plugin")){if(l=t(n,e.getAttribute("dd-plugin")))return(d=l.possess({node:e,plugins:n,window:window}))instanceof Promise?i.push(d):void 0}else for(u=0,a=o.childNodes.length;u<a;++u)s=u,r(o.childNodes[s])})(e)}).then(function(){return Promise.all(i)})},u=function(e,t,n){var r,o,u,a,s,l,d;for(r=n,o=t,u=e.p.length-1;u>=0&&(a=u,"attr"!==(s=e.p[a])&&"style"!==s&&"cls"!==s&&"child"!==s&&"name"!==s&&"value"!==s&&"type"!==s);--u);for(u=0,l=a-1;u<l;++u)u,d=e.p[a],r="child"===d?r.childNodes:r,o=o[d];switch(e.p[a]){case"name":case"value":case"type":return i(o).then(function(e){var t;return t=e.node,e.promise,r.parentNode.insertBefore(t,r),r.parentNode.removeChild(r)});case"style":return r.setAttribute("style",""),o.style.map(function(e){return r.style[e[0]]=e[1]});case"cls":return r.setAttribute("class",o.cls.join(" "));case"attr":return Array.from(r.attributes).map(function(e){var t;if(!o.attr[e.name]&&"custom"!==(t=e.name)&&"style"!==t&&"class"!==t)return r.removeAttribute(e.name)}),o.attr.map(function(e){return r.setAttribute(e[0],e[1])});case"child":if(e.ld&&r.removeChild(r.childNodes[e.p[a+1]]),e.li)return i(e.li).then(function(t){var n;return n=t.node,t.promise,r.insertBefore(n,r.childNodes[e.p[a+1]])})}},(a=function(e){var t;return null==e&&(e={}),this.opt=e,this.window=(t=e.window)?t:"undefined"!=typeof window&&null!==window?window:null,this.plugins=Array.isArray(e.plugins)?e.plugins:e.plugins?[e.plugins]:[],e.data?this.data=e.data:e.node&&(this.node=e.node),this}).prototype=function(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}(Object.create(Object.prototype),{init:function(){var e=this;return this.data?i(this.data,this.plugins,this.window).then(function(t){var n,r;return n=t.node,r=t.promise,e.node=n,{node:n,promise:r}}):(this.node||(this.node=document.createElement("div")),r(this.node,this.plugins,this.window).then(function(e){var t,n;return t=e.data,n=e.promise,this.data=t,{data:t,promise:n}}))},getData:function(){return this.data},getNode:function(){return this.node},update:function(t){var n,r,i,o=[];for(null==t&&(t=[]),n=0,r=t.length;n<r;++n)i=t[n],e.type.apply(this.data,[i]),o.push(u(i,this.data,this.node));return o}}),a.serialize=r,a.deserialize=i,a.possess=o,"undefined"!=typeof module&&null!==module?module.exports=a:"undefined"!=typeof window&&null!==window&&(window.datadom=a)}).call(this);
!function(){var t,n,a,g,o,l,w=[].slice;function s(e,t){var n,r={}.hasOwnProperty;for(n in t)r.call(t,n)&&(e[n]=t[n]);return e}n="undefined"!=typeof window&&null!==window?window.fetch:"undefined"!=typeof module&&null!==module&&"undefined"!=typeof require&&null!==require?require("node-fetch"):null,a="undefined"!=typeof window&&null!==window?window.semver:"undefined"!=typeof modeul&&null!==modeul&&"undefined"!=typeof require&&null!==require?require("@plotdb/semver"):null,g=function(e){return/^:scope[ .:\[#]|^:scope$/.exec(e)},o=function(e,t){return n(e,t).then(function(i){var e;return i&&i.ok?i.text():i?i.clone().text().then(function(e){var t,n=i.status||404,r=new Error(n+" "+e);r.name="lderror",r.id=n,r.message=e,n=r;try{(t=JSON.parse(e))&&"lderror"===t.name&&(s(n,t).json=t)}catch(e){0}return Promise.reject(n)}):Promise.reject(((e=new Error("404")).name="lderror",e.id=404,e))})},(l=function(e,t,n,r){return(l.default=l.default?l.default:new l.converter).convert(e,t,n,r)}).env=function(e){e=[e,e.document];return t=e[1],e},l.id=function(e){return e.id||e.url||(e.ns?e.ns+":":"")+e.name+"@"+(e.version||"main")+":"+(e.path||"index.html")},l.scope=function(e){return e.scope||"_"+btoa(l.id(e)).replace(/=/g,"_")},l._cache={},l._ver={map:{},list:{}},l.cache=function(e){var t,n,r,i,o,s,c,u;if((e="string"==typeof e?{url:e}:e).id||(e.id=l.id(e)),t=this._cache[e.id])return t;if(o=(i=(r=(n=e.id&&!e.name?(n=/^(\S+)@(\S+):(\S+)$/.exec(e.id))?[n[1],n[2],n[3]]:[e.id,"",""]:[e.name,e.version||"",e.path||""])[0],n[1]),n[2]),/^[0-9.]+$/.exec(i)){if((t=((n=this._ver.map)[r]||(n[r]={}))[i])&&(i=t),t=this._cache[l.id({name:r,version:i,path:o})])return t;for(s=0,c=((n=this._ver.list)[r]||(n[r]=[])).length;s<c;++s)if(u=s,u=this._ver.list[r][u],a.fit(u,i)&&(this._ver.map[r][i]=u,e.id=l.id({name:r,version:u,path:o}),t=this._cache[e.id]))return t}return function(e,t){var n=-1,r=t.length>>>0;for(;++n<r;)if(e===t[n])return!0;return!1}(i,(n=this._ver.list)[r]||(n[r]=[]))||this._ver.list[r].push(i),this._cache[e.id]=e},(l.converter=function(e){return this.scopeTest=(e=null==e?{}:e).scopeTest,this.node=t.createElement("style"),this.iframe=e=t.createElement("iframe"),e.setAttribute("title","for csscope parsing"),e.style.display="none",e.src="about:blank",t.body.appendChild(e),this.iframe.contentDocument.body.appendChild(this.node),this._idx=0,this}).prototype=s(Object.create(Object.prototype),{getNames:function(e,t){var n,r,i;for(null==t&&(t={}),n=0,r=e.length;n<r;++n)(i=e[n]).name?t[i.name]=!0:i.cssRules&&this.getNames(i.cssRules,t);return t},_convert:function(e,i,t,o,n){var r,s,c,u,a,l;for(null==n&&(n={}),r="",s=0,c=e.length;s<c;++s)(u=e[s]).style&&(n[u.style.animationName]?u.style.animationName=t+"__"+u.style.animationName:u.style.animation&&(u.style.animation=u.style.animation.split(" ").map(d).join(" "))),u.selectorText?(r+=(a=(o?u.selectorText.split(",").map(p).map(m):u.selectorText.split(",").map(f).map(h)).join(","))+"{"+u.style.cssText+"}",u.selectorText=a):u.name?(a=u.name.split(",").map(y).map(v).join(","),r+="@keyframes "+(u.name=a)+" {\n  "+Array.from(u.cssRules).map(_).join("\n")+"\n}"):u.cssRules&&(l=this._convert(u.cssRules,i,t,o,n),r+="@media "+u.conditionText+" {\n  "+l+"\n}");return r;function d(e){return n[e]?t+"__"+e:e}function f(e){return e.trim()}function h(e){return g(e)?e.replace(/^:scope/,i):i+" "+e}function p(e){return e.trim()}function m(e){var t,n,r;return g(e)?e.replace(/^:scope/,i):(n=(r=e.split(" ").map(function(e){return e.trim()}).filter(function(e){return e}))[0],t=w.call(r,1),n=(r=/^[a-zA-Z]/.exec(n)?[n,""]:["",n])[0],r=r[1],/:[a-z-]+$/.exec(e)?i+" :not("+o+") "+e+","+i+" > "+n+r+" "+t.join(" "):i+" :not("+o+") "+e+","+i+" > "+n+":not("+o+")"+r+" "+t.join(" "))}function y(e){return e.trim()}function v(e){return t+"__"+e}function _(e){return e.cssText}},convert:function(e,t,n,r){var i,e="object"==typeof e?e:{name:e,css:t,rule:n,scopeTest:r},t=e.name,n=e.css,r=e.rule,e=e.scopeTest;return r=r||"."+t,t=t||r,e=e||this.scopeTest,n="object"==typeof n?n:(this.node.textContent=(n||"")+("/*"+this._idx++)+"*/",this.node.sheet.cssRules),i=this.getNames(n,{}),this._convert(n,r,t,e,i)||""}}),(l.manager=function(e){return null==e&&(e={}),this.attrName="csscope",this._cache={},this.converter=new l.converter,this.counter=0,this.registry(e.registry||"/assets/lib/"),this.init(),this}).prototype=s(Object.create(Object.prototype),{cache:function(e){var t;return(e="string"==typeof e?{url:e}:e).id||(e.id=l.id(e)),(t=this._cache[e.id])?t:this._cache[e.id]=l.cache(e)},_ref:function(e){var t;return"string"==typeof e?e:(t=e.url)?t:this._reg.fetch?this._reg.fetch(e):this._reg(e)},registry:function(e){return"string"==typeof e?("/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),this._reg=(t=e,function(e){return t+"/"+e.name+"/"+(e.version||"main")+"/"+(e.path||"index.min.css")})):this._reg=e;var t},init:function(){if(!this.inited)return this.inited=!0,this.styleNode=t.createElement("style"),this.styleNode.setAttribute("type","text/css"),this.styleNode.setAttribute("data-name","csscope.manager"),this.styleContent=[],t.body.appendChild(this.styleNode)},scope:function(e,t){t=this.get(t=null==t?[]:t);return e.classList.add.apply(e.classList,t.map(function(e){return e.scope})),t},get:function(e){var t=this;return null==e&&(e=[]),(Array.isArray(e)?e:[e]).map(function(e){return t.cache(e)}).filter(function(e){return e.scope})},bundle:function(e,t){var n,r,i,o,s=this;for(i in e=Array.isArray(e)?e:[e],n={},e.map(function(e){return s.cache(e)}).filter(function(e){return e&&e.id}).map(function(e){return n[e.id]=e}),r=[],n)o=n[i],r.push(o);return e=r,this.load(e,t,!0).then(function(e){return e.map(function(e){return e.code}).join("\n")})},load:function(e,n,t){var r,i=this;return e=(Array.isArray(e)?e:[e]).map(function(e){return i.cache(e)}),r=[],Promise.all(e.map(function(t){var e;return t.inited?Promise.resolve():t.scope&&t.code?(t.inited=!0,r.push(t.code),Promise.resolve()):((e=i._ref(t)).then?e.then(function(e){return i.cache((t.id=void 0,t.version=e.version,t)),e}):o(e,{method:"GET"}).then(function(e){return{content:e}})).then(function(e){e=e.content;return t.inited=!0,t.scope=l.scope(t),t.code=i.converter.convert({css:e,name:t.scope,scopeTest:n}),r.push(t.code)})})).then(function(){return t?e:(i.styleContent.push.apply(i.styleContent,r),i.styleNode.textContent=i.styleContent.join("\n"),i.get(e))})}}),l.env("undefined"!=typeof self&&null!==self?self:globalThis),"undefined"!=typeof module&&null!==module?module.exports=l:"undefined"!=typeof window&&null!==window&&(window.csscope=l)}.call(this);
!function(){var t,l,s,u,f,a,e,p;function d(e,n){var t,r={}.hasOwnProperty;for(t in n)r.call(n,t)&&(e[t]=n[t]);return e}t="undefined"!=typeof window&&null!==window?window.fetch:"undefined"!=typeof module&&null!==module&&"undefined"!=typeof require&&null!==require?require("node-fetch"):null,l="undefined"!=typeof window&&null!==window?window.semver:"undefined"!=typeof module&&null!==module&&"undefined"!=typeof require&&null!==require?require("@plotdb/semver"):null,f=function(e,n){return t(e,n).then(function(i){var e;return i&&i.ok?i.text():i?i.clone().text().then(function(e){var n,t=i.status||404,r=new Error(t+" "+e);r.name="lderror",r.id=t,r.message=e,r=r;try{(n=JSON.parse(e))&&"lderror"===n.name&&(d(r,n).json=n)}catch(e){0}return Promise.reject(r)}):Promise.reject(((e=new Error("404")).name="lderror",e.id=404,e))})},(a=function(e){var n,t,r,i,o=this;return this.lc=(e=null==e?{}:e).context||{},this.id=Math.random().toString(36).substring(2),e.iframe?this.iframe=e.iframe:(this.iframe=n=u.createElement("iframe"),(t=n.style).position="absolute",t.top=0,t.left=0,t.width=0,t.height=0,t.pointerEvents="none",t.opacity=0,n.setAttribute("title","rescope script loader"),n.setAttribute("name","pdb-proxin-"+this.id),n.setAttribute("sandbox","allow-same-origin allow-scripts"),u.body.appendChild(n)),r=Object.fromEntries(Reflect.ownKeys(this.iframe.contentWindow).map(function(e){return[e,!0]})),i={},this._proxy=new Proxy(e.target||s,{get:function(e,n,t){return null!=o.lc[n]?o.lc[n]:null!=i[n]?i[n]:"function"==typeof e[n]?i[n]=e[n].bind(e):null!=r[n]?e[n]:void 0},set:function(e,n,t){return r[n]?e[n]=t:o.lc[n]=t,!0}}),this}).prototype=((e=Object.create(Object.prototype)).proxy=function(){return this._proxy},e.ctx=function(){return this.lc},e),(p=function(e){var n,t;return null==e&&(e={}),this.id=Math.random().toString(36).substring(2),this.iframe=n=u.createElement("iframe"),this._cache={},this.proxy=new a,this.registry(e.registry||"/assets/lib/"),(t=n.style).position="absolute",t.top=0,t.left=0,t.width=0,t.height=0,t.pointerEvents="none",t.opacity=0,n.setAttribute("title","rescope script loader"),n.setAttribute("name","pdb-rescope-"+this.id),n.setAttribute("sandbox","allow-same-origin allow-scripts"),u.body.appendChild(n),n.contentWindow.document.body.innerHTML=(e.preloads||[]).map(function(e){return'<script type="text/javascript" src="'+e+'"><\/script>'}).join(""),this}).env=function(e){e=[e,e.document];return s=e[0],u=e[1],e},p.prop={legacy:{webkitStorageInfo:!0}},p.id=function(e){return e.id||e.url||(e.ns?e.ns+":":"")+e.name+"@"+(e.version||"main")+":"+(e.path||"index.html")},p._cache={},p._ver={map:{},list:{}},p.cache=function(e){var n,t,r,i,o,u,c,s;if((e="string"==typeof e?{url:e}:e).id||(e.id=p.id(e)),n=this._cache[e.id])return n;if(o=(i=(r=(t=e.id&&!e.name?(t=/^(\S+)@(\S+):(\S+)$/.exec(e.id))?[t[1],t[2],t[3]]:[e.id,"",""]:[e.name,e.version||"",e.path||""])[0],t[1]),t[2]),/^[0-9.]+$/.exec(i)){if((n=((t=this._ver.map)[r]||(t[r]={}))[i])&&(i=n),n=this._cache[p.id({name:r,version:i,path:o})])return n;for(u=0,c=((t=this._ver.list)[r]||(t[r]=[])).length;u<c;++u)if(s=u,s=this._ver.list[r][s],l.fit(s,i)&&(this._ver.map[r][i]=s,e.id=p.id({name:r,version:s,path:o}),n=this._cache[e.id]))return n}return function(e,n){var t=-1,r=n.length>>>0;for(;++t<r;)if(e===n[t])return!0;return!1}(i,(t=this._ver.list)[r]||(t[r]=[]))||this._ver.list[r].push(i),this._cache[e.id]=e},p.prototype=((e=Object.create(Object.prototype)).peekScope=function(){return!1},e.init=function(){return Promise.resolve()},e._ref=function(e){var n;return"string"==typeof e?e:(n=e.url)?n:this._reg.fetch?this._reg.fetch(e):this._reg(e)},e.registry=function(e){return"string"==typeof e?("/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),this._reg=(n=e,function(e){return n+"/"+e.name+"/"+(e.version||"main")+"/"+(e.path||"index.min.js")})):this._reg=e;var n},e.cache=function(e){var n;return(e="string"==typeof e?{url:e}:e).id||(e.id=p.id(e)),(n=this._cache[e.id])?n:this._cache[e.id]=p.cache(e)},e.bundle=function(n){var t,e,r,i,o=this;for(r in null==n&&(n=[]),n=(Array.isArray(n)?n:[n]).map(function(e){return o.cache(e)}),t={},n.filter(function(e){return e&&e.id}).map(function(e){return t[e.id]=e}),e=[],t)i=t[r],e.push(i);return n=e,this.load(n,null,!0,!0).then(function(){var e=n.filter(function(e){return e.code}).map(function(e){return JSON.stringify({url:e.url,id:e.id,name:e.name,version:e.version,path:e.path,code:e.code})});return Promise.resolve("["+e.join(",")+"].forEach(function(o){rescope.cache(o);})")})},e.exports=function(e){var n,t=[],r=(e=null==e?{}:e).ctx||{},i="string"==typeof e.libs?[e.libs]:e.libs||[],o=(e=[{},this.iframe.contentWindow])[0],u=e[1];for(n in r)o[n]=u[n],u[n]=r[n];for(n in this._exports(i,0,r),o)t.push(u[n]=o[n]);return t},e._exports=function(e,n,t){var r,i,o,u,c,s,l=[];if(null==t&&(t={}),r=e[n=null==n?0:n]){if(o=(i=[{},(r=this.cache(r)).fprop,this.iframe.contentWindow])[0],u=i[1],c=i[2],u)for(s in u)o[s]=c[s],c[s]=u[s];else if(r.fprop=u={},r.prop={},r.propIniting=!0,r.gen)d(u,r.gen.apply(c,[c,c,c])),r.prop=Object.fromEntries(function(){var e=[];for(s in u)e.push([s,null]);return e}());else{for(s in Object.fromEntries(Reflect.ownKeys(c).filter(function(e){return!p.prop.legacy[e]}).map(function(e){return[e,!0]})))o[s]=c[s];for(s in c.eval(r.code),Object.fromEntries(Reflect.ownKeys(c).filter(function(e){return!p.prop.legacy[e]}).map(function(e){return[e,!0]})))c[s]!==o[s]&&"NaN"!==s&&(u[s]=c[s],r.prop[s]=null)}for(s in u)t[s]=u[s];for(s in this._exports(e,n+1),u)l.push(c[s]=o[s]);return l}},e._wrap=function(e,n,t){var r,i,o;for(o in null==n&&(n={}),null==t&&(t={}),i="var window, global, globalThis, self, __ret = {}; __win = {};\nwindow = global = globalThis = self = window = scope;",r=(e=null==e?{}:e).prop||{})i+="var "+o+"; __win['"+o+"'] = win['"+o+"']; win['"+o+"'] = undefined;";for(o in n)i+="var "+o+" = window['"+o+"'] = ctx['"+o+"'];";for(o in i+=e.code+";",r)i+="__ret['"+o+"'] = "+o+" || window['"+o+"'] || win['"+o+"'] || this['"+o+"'];\nwin['"+o+"'] = __win['"+o+"'];";return i+="return __ret;",t.codeOnly?"function(scope, ctx, win){"+i+"}":new Function("scope","ctx","win",i)},e.load=function(e,n,t,r){var i,o,u,c=this;return null==n&&(n={}),null==t&&(t=!1),null==r&&(r=!1),u=(e=(Array.isArray(e)?e:[e]).map(function(e){return c.cache(e)})).px||(e.px=n&&n.p?n.p:new a),i=u.ctx(),o=u.proxy(),u=e.map(function(n){var e;return!n.code&&!n.gen||t?(e=c._ref(n)).then?e.then(function(e){return n.code=e.content,c.cache((n.id=void 0,n.version=e.version,n.code=e.content,n))}):f(e,{method:"GET"}).then(function(e){return n.code=e}):Promise.resolve()}),Promise.all(u).then(function(){if(!r)return c.exports({libs:e,ctx:n.f}),e.map(function(e){return e.propIniting&&(e.gen||(e.gen=c._wrap(e,i)),e.prop=e.gen.apply(o,[o,i,s]),e.propIniting=!1),d(i,e.prop)})}).then(function(){return i})},e.context=function(e,n,t){var r;return"function"!=typeof n&&(n=(r=[t,n])[0],t=r[1]),this.load(e,t).then(function(e){return n?n(e):e})},e),p.env("undefined"!=typeof self&&null!==self?self:globalThis),p.proxin=a,p.dualContext=function(){return{p:new a,f:{},ctx:function(){return this.p.ctx()}}},"undefined"!=typeof module&&null!==module?module.exports=p:"undefined"!=typeof window&&null!==window&&(window.rescope=p)}.call(this);
!function(){var win,doc,rescope,csscope,proxise,fetch,e404,_fetch,rid,parseNameString,sanitize,pubsub,block,slice$=[].slice;function import$(e,t){var n,r={}.hasOwnProperty;for(n in t)r.call(t,n)&&(e[n]=t[n]);return e}rescope="undefined"!=typeof window&&null!==window?window.rescope:"undefined"!=typeof module&&null!==module&&"undefined"!=typeof require&&null!==require?require("@plotdb/rescope"):null,csscope="undefined"!=typeof window&&null!==window?window.csscope:"undefined"!=typeof module&&null!==module&&"undefined"!=typeof require&&null!==require?require("@plotdb/csscope"):null,proxise="undefined"!=typeof window&&null!==window?window.proxise:"undefined"!=typeof module&&null!==module&&"undefined"!=typeof require&&null!==require?require("proxise"):null,fetch="undefined"!=typeof window&&null!==window?window.fetch:"undefined"!=typeof module&&null!==module&&"undefined"!=typeof require&&null!==require?require("node-fetch"):null,e404=function(e){var t;return Promise.reject(((t=new Error).name="lderror",t.id=404,t.message=e,t))},_fetch=function(e,t){return fetch(e,t).then(function(o){var e;return o&&o.ok?o.text():o?o.clone().text().then(function(e){var t,n=o.status||404,r=new Error(n+" "+e);r.name="lderror",r.id=n,r.message=e,n=r;try{(t=JSON.parse(e))&&"lderror"===t.name&&(import$(n,t).json=t)}catch(e){0}return Promise.reject(n)}):Promise.reject(((e=new Error("404")).name="lderror",e.id=404,e))})},rid=function(){for(var e;e="b-"+Math.random().toString(36).substring(2),rid.hash[e];);return rid.hash[e]=!0,e},rid.hash={},parseNameString=function(e){var t;return{name:e=(t=(e=e.split("@"))[0]?[e[0],e[1]]:["@"+e[1],e[2]])[0],version:t[1]}},sanitize=function(e){return e||""},pubsub=function(){return this.subs={},this},pubsub.prototype=import$(Object.create(Object.prototype),{fire:function(e){for(var t,n,r=[],o=1,i=arguments.length;o<i;++o)r.push(arguments[o]);return t=r,Promise.all(((n=this.subs)[e]||(n[e]=[])).map(function(e){return e.apply(null,t)}))},on:function(e,t){var n;return((n=this.subs)[e]||(n[e]=[])).push(t)}}),block={id:function(e){return e.id||e.url||(e.ns?e.ns+":":"")+e.name+"@"+(e.version||"main")+":"+(e.path||"index.html")},id2obj:function(e){var t,n,r;return(e=e.split(":")).length<=2?(t=e[0],n=e[1],r=e[2]):(r=e[0],t=e[1],n=e[2]),(e=/^(@?[^@]+)(?:@([^:]+))?$/.exec(t))?{ns:r,name:e[1],version:e[2],path:n}:null},env:function(e){e=[e,e.document];if(win=e[0],doc=e[1],rescope.env&&rescope.env(win),rescope.env)return csscope.env(win)},i18n:{module:{lng:"en",t:function(e){for(var t,n,r,o,i=Array.isArray(e)?e:[e],s=this.lng,c=0,l=i.length;c<l;++c)if(i[t=c]&&(n=(t=i[t].split(":"))[0],r=(r=slice$.call(t,1)).join(":"),o=((t=(o=this.res)[s]||(o[s]={}))[n]||(t[n]={}))[r]))return o;return r||n||e[e.length-1]},changeLanguage:function(e){return this.lng=e||"en"},addResourceBundle:function(e,t,n,r,o){var i;return((i=this.res)[e]||(i[e]={}))[t]=n},res:{}},use:function(e){return this.module=e},addResourceBundle:function(e,t,n,r,o){return block.i18n.module.addResourceBundle(e,t,n,r=null==r?!0:r,o=null==o?!0:o)},changeLanguage:function(e){return block.i18n.module.changeLanguage(e)}}},Object.defineProperty(block.i18n,"language",{get:function(){return block.i18n.module.lng||block.i18n.module.language}}),block.global={csscope:{hash:{},apply:function(e){var t=this;if((e=e.filter(function(e){return!t.hash[e.id||e.url]}).map(function(e){return t.hash[e.id||e.url]=e.scope})).length)return doc.body.classList.add.apply(doc.body.classList,e)}}},block.init=proxise.once(function(){if(block._rescope)return block._rescope.init()}),block.rescope=function(){return block._rescope||(block._rescope=new rescope({global:null!=win?win:global})),block._rescope},block.csscope=function(){return block._csscope||(block._csscope=new csscope.manager),block._csscope},block.manager=function(e){var t=this;return null==e&&(e={}),this.hash={},this.proxy={},this.running={},this._ver={map:{}},this._chain=e.chain||null,this._fetch=e.fetch||null,this.init=proxise.once(function(){return t._init()}),this.rescope=e.rescope instanceof rescope?e.rescope:block.rescope(),this.csscope=e.csscope instanceof csscope?e.csscope:block.csscope(),e.registry&&this.registry(e.registry),this.init(),this},block.manager.prototype=import$(Object.create(Object.prototype),{_init:function(){return(this.rescope===block.rescope()?block:this.rescope).init()},id:block.id,id2obj:block.id2obj,chain:function(e){return this._chain=e},registry:function(e){var t;if(null!=(e="string"==(t=typeof e)||"function"===t||e.fetch&&e.url?{lib:e,block:e}:e).lib&&(this.rescope===block.rescope()&&(this.rescope=new rescope({global:win})),this.csscope===block.csscope()&&(this.csscope=new csscope.manager),this.rescope.registry(e.lib),this.csscope.registry(e.lib)),null!=e.block&&(this._reg=e.block||"","string"==typeof this._reg&&this._reg&&"/"!==(t=this._reg)[t.length-1]))return this._reg+="/"},set:function(e){var s=this;return null==e&&(e={}),e=Array.isArray(e)?e:[e],Promise.all(e.map(function(e){var t,n=e.ns,r=e.name,o=e.version,i=e.path,e=e instanceof block.class?e:e.block;return((n=(t=(t=s.hash)[n=n||""]||(t[n]={}))[r]||(t[r]={}))[o]||(n[o]={}))[i||"index.html"]=e}))},getUrl:function(e){var t,n=e.ns,r=e.name,o=e.version,e=e.path;return n=n||"","function"==typeof(t=this._reg.url||this._reg)?t({ns:n,name:r,version:o,path:e,type:"block"}):(this._reg||"")+"/assets/block/"+r+"/"+(o||"main")+"/"+(e||"index.html")},fetch:function(e){var t;return e.type="block",this._fetch?Promise.resolve(this._fetch(e)):(t=this._reg.fetch?this._reg.fetch(e):this.getUrl(e)).then?t:t?_fetch(t,{method:"GET"}).then(function(e){return{content:e}}):e404(e)},_get:function(t){var e,a,h,n,r=this,o=[t.ns||"",t.name,t.version||"main",t.path||"index.html"],i=o[0],s=o[1],c=o[2],l=o[3],u={ns:i,name:s,version:c,path:l};if(!s||!c)return Promise.reject(((o=new Error).name="lderror",o.id=1015,o));if((o=(e=this.hash)[i]||(e[i]={}))[s]||(o[s]={}),/[^0-9.]/.exec(c)&&!t.force){if(((o=this._ver.map)[i]||(o[i]={}))[s]&&this._ver.map[i][s][c]&&(n=((o=this.hash[i][s])[n=this._ver.map[i][s][c]]||(o[n]={}))[l]))return n;for(a in o=((e=this.hash)[i]||(e[i]={}))[s])if(h=o[a],semver.fit(a,c))return Promise.resolve(h[l])}return null==((o=this.hash[i][s])[c]||(o[c]={}))[l]||t.force?!0!==((o=(e=(n=this.running)[i]||(n[i]={}))[s]||(e[s]={}))[c]||(o[c]={}))[l]?(this.running[i][s][c][l]=!0,this.fetch({ns:t.ns,name:t.name,version:t.version,path:t.path}).then(function(e){var t;return e?(e.version&&(u.version!==e.version&&(((t=r._ver.map[i])[s]||(t[s]={}))[u.version]=e.version),u.version=e.version),e.content||e):e404(u)}).catch(function(e){return r._chain?r._chain.get(t):Promise.reject(e)}).then(function(e){e=new block.class((u.code=e=null==e?{}:e,u.manager=r,u));return r.set((u.block=e,u)),e}).then(function(e){return r.proxy[i][s][c][l].resolve(e),e}).finally(function(){return r.running[i][s][c][l]=!1}).catch(function(e){return r.proxy[i][s][c][l].reject(e),Promise.reject(e)})):void 0:Promise.resolve(this.hash[i][s][c][l])},from:function(e,n){return this.get(e).then(function(e){return e.create().then(function(t){return t.attach(n).then(function(){return t.interface()}).then(function(e){return{instance:t,interface:e}})})})},get:function(t){var e,c=this;return null==t&&(t={}),e=Array.isArray(t)?t:[t],Promise.all(e.map(function(e){var t,n,r=(t=[(e="string"==typeof(e=null==e?{}:e)?parseNameString(e):e).ns||"",e.name,e.version||"main",e.path||"index.html"])[0],o=t[1],i=t[2],s=t[3];return((t=(n=(n=c.proxy)[r]||(n[r]={}))[o]||(n[o]={}))[i]||(t[i]={}))[s]||(c.proxy[r][o][i][s]=proxise(function(e){return c._get(e)})),c.proxy[r][o][i][s](e)})).then(function(e){return Array.isArray(t)?e:e[0]})},bundle:function(opt){var mgr,hash,_;return null==opt&&(opt={}),mgr=opt.manager||this,hash={},_=function(list,blocks,deps){var bd,id;return(null==blocks&&(blocks=[]),null==deps&&(deps={js:[],css:[]}),list.length)?(bd=list.splice(0,1)[0],id=block.id(bd),hash[id]?Promise.resolve().then(function(){return _(list,blocks,deps)}):_fetch(mgr.getUrl(bd),{method:"GET"}).then(function(it){var node,ref$,js,css,ret,b,node=doc.createElement("div");return node.innerHTML=it,1<node.childNodes.length&&console.warn("DOM definition of a block should contain only one root."),ref$=["script","style"].map(function(e){return Array.from(node.querySelectorAll(e)).map(function(e){return e.parentNode.removeChild(e),e.textContent}).join("\n")}),js=ref$[0],css=ref$[1],node.childNodes[0].setAttribute("block",id),ret=eval("(function(module){"+(js||"")+";return module.exports;})({})"),ret instanceof Function&&(ret=ret()),ret=ret||{},(ret.pkg||(ret.pkg={})).extend&&list.push((ret.pkg||(ret.pkg={})).extend),deps.js=deps.js.concat(((ret.pkg||(ret.pkg={})).dependencies||[]).filter(function(e){return"js"===e.type||/\.js/.exec(e.path||e||"")})),deps.css=deps.css.concat(((ret.pkg||(ret.pkg={})).dependencies||[]).filter(function(e){return"css"===e.type||/\.css/.exec(e.path||e||"")})),js="((function(module){"+(js||"")+";return module.exports;})({}))",blocks.push(b={js:js,css:css,html:node.innerHTML,bd:bd,id:id}),hash[id]=b,_(list,blocks,deps)})):Promise.resolve({blocks:blocks,deps:deps})},_(opt.blocks||(opt.blocks=[])).then(function(e){var i=e.blocks,s=e.deps;return Promise.all([mgr.csscope.bundle(s.css),mgr.rescope.bundle(s.js)]).then(function(e){var t,n,r=e[0],e=e[1],o=i.map(function(e){return'"'+e.id+'":'+(e.js||'""')});return o="document.currentScript.import({"+o.join(",\n")+"});",t=s.css.map(function(e){return"csscope.cache("+JSON.stringify((e.inited=!0,e.scope=csscope.scope(e),e))+")"}).join(";"),n=i.map(function(e){var t=csscope.scope(e);return csscope({rule:"*[scope~="+t+"]",name:t,css:e.css||"",scopeTest:"[scope]"})}).join("\n"),"<template>\n  "+i.map(function(e){return e.html||""}).join("\n")+'\n  <style type="text/css">'+n+r+'</style>\n  <script type="text/javascript">'+o+e+";"+t+"<\/script>\n</template>"})})},debundle:function(e){var u=(e=null==e?{}:e).manager||this,a={};return(e.root?Promise.resolve("string"==typeof e.root?doc.querySelector(e.root):e.root):(e.url?_fetch(e.url,{method:"GET"}):Promise.resolve(e.code)).then(function(e){var t;return block.debundleNode||document.body.appendChild(block.debundleNode=doc.createElement("div")),block.debundleNode.appendChild(t=doc.createElement("div")),t.innerHTML=e,t.querySelector("template")})).then(function(e){var n,t,r,o,i,s,c,l=[];for(t in e.content&&(e=e.content),n=[{},{}][0],Array.from(e.childNodes).map(function(e){var t;if(e.nodeType===doc.ELEMENT_NODE)return"SCRIPT"===e.nodeName?a.script=e.cloneNode(!0):"STYLE"===e.nodeName?a.style=e.cloneNode(!0):(t=e.getAttribute("block"))?n[t]=e:void 0}),a.script&&((e=doc.createElement("script")).textContent=a.script.textContent,a.script=e,a.script.import=function(e){return a.codes="function"==typeof e?e():e},a.script.setAttribute("type","text/javascript"),doc.body.appendChild(a.script)),a.style&&(a.style.setAttribute("type","text/css"),doc.body.appendChild(a.style)),n)r=n[t],c=(s=block.id2obj(t)).ns,o=s.name,i=s.version,s=s.path,c=new block.class({manager:u,ns:c,name:o,version:i,path:s,code:{script:a.codes[t],dom:r,style:""}}),l.push(u.set(c));return l})}}),block.class=function(e){var t,n,r,o,i,s,c=this;if(this.opt=e=null==e?{}:e,this.scope=e.scope||null,this._ctx={},this.csscopes={global:[],local:[]},this.ns=e.ns,this.name=e.name,this.version=e.version,this.path=e.path,this.manager=e.manager,e.ns||(e.ns=""),this.manager||console.warn("manager is mandatory when constructing block.class"),t=e.code,e.root?n="string"==typeof e.root?doc.querySelector(e.root):e.root:"string"==typeof(t="function"==typeof t?t():t)?(t=sanitize(t),(r=doc.createElement("div")).innerHTML=(t||"").trim(),1<r.childNodes.length&&console.warn("DOM definition of a block should contain only one root.")):"object"==typeof t&&(this.script=t.script,this.style=t.style,this.style=t.style,this.script=t.script,(e=t.dom instanceof Function?t.dom():t.dom)instanceof win.Element?n=e:(t=sanitize(e),(r=doc.createElement("div")).innerHTML=t,1<r.childNodes.length&&console.warn("DOM definition of a block should contain only one root."))),["script","style","link"].map(function(e){var t=Array.from((n||r).querySelectorAll(e)).map(function(e){return e.parentNode.removeChild(e),e.textContent}).join("\n");return c[e]=null!=t&&t?t:c[e]||""}),!n&&r)for(o=0,i=r.childNodes.length;o<i&&(s=o,(n=r.childNodes[s]).nodeType!==win.Element.ELEMENT_NODE);++o);return(n=n||doc.createElement("div")).nodeType!==win.Element.ELEMENT_NODE&&console.warn("root of DOM definition of a block should be an Element"),this.node=n,this.init=proxise.once(function(){return c._init()}),this},block.class.prototype=import$(Object.create(Object.prototype),{_init:function(){var this$=this;return block.init().then(function(){var v,ref$,ret;return this$.interface=this$.script instanceof Function?this$.script():"object"==typeof this$.script?this$.script:(v=eval("(function(module){"+(this$.script||"")+";return module.exports;})({})"))instanceof Function?v():v||{},this$.interface||(this$.interface={}),(ref$=this$.interface).pkg||(ref$.pkg={}),this$.name||(this$.name=this$.interface.pkg.name),this$.version||(this$.version=this$.interface.pkg.version),this$.path||(this$.path=this$.interface.pkg.path),this$.id=block.id({name:this$.name||rid(),version:this$.version||rid(),path:this$.path}),this$._id_t=this$.id.replace(/:/g,"="),this$.scope||(this$.scope=csscope.scope(this$)),this$.style&&(doc.body.appendChild(this$.styleNode=doc.createElement("style")),this$.styleNode.setAttribute("type","text/css"),ret=csscope({rule:"*[scope~="+this$.scope+"]",name:this$.scope,css:this$.style,scopeTest:"[scope]"}),ret=ret.replace(/url\("?([^()"]+)"?\)/g,"url("+this$._path("")+"$1)"),this$.styleNode.textContent=ret),this$.factory=function(e){return this._instance=e,this},this$.factory.prototype=import$((ref$=Object.create(Object.prototype),ref$.init=function(){},ref$.destroy=function(){},ref$._class=this$,ref$),this$.interface)}).then(function(){if(this$.extends=[],this$.interface.pkg.extend)return this$.manager?this$.manager.get(this$.interface.pkg.extend).then(function(e){return this$.extend=e,this$.extendDom=!(null!=this$.interface.pkg.extend.dom)||this$.interface.pkg.extend.dom,this$.extendStyle=!(null!=this$.interface.pkg.extend.style)||this$.interface.pkg.extend.style,this$.extend.init()}).then(function(){return this$.extends=[this$.extend].concat(this$.extend.extends)}):new Error("no available manager to get extended block")}).then(function(){var e,t,n=[],r=this$.interface.pkg.i18n||{};for(e in r)t=r[e],n.push(block.i18n.module.addResourceBundle(e,this$._id_t,t,!0,!0));return n}).then(function(){var n,r;return this$.dependencies=Array.isArray(this$.interface.pkg.dependencies)?this$.interface.pkg.dependencies:function(){var e,t=[];for(n in e=this.interface.pkg.dependencies||{})r=e[n],t.push(r);return t}.call(this$),this$.dependencies.map(function(e){if(!e.type)return!/\.js$/.exec(e.url||e.path||e)&&/\.css$/.exec(e.url||e.path||e)?e.type="css":e.type="js"}),this$.extend?this$._ctx=this$.extend.context():rescope.dualContext?this$._ctx=rescope.dualContext():rescope.proxin&&(this$._ctx=new rescope.proxin),this$.manager.rescope.load(this$.dependencies.filter(function(e){return!e.type||"js"===e.type}),this$._ctx)}).then(function(){return this$.manager.csscope.load(this$.dependencies.filter(function(e){return"css"===e.type&&!0===e.global}).map(function(e){return e.url||e}))}).then(function(e){return this$.csscopes.global=e||[],this$.manager.csscope.load(this$.dependencies.filter(function(e){return"css"===e.type&&!0!==e.global}).map(function(e){return e.url||e}))}).then(function(e){if(this$.csscopes.local=e||[],this$.extend)return(e=this$.csscopes).global=e.global.concat(this$.extend.csscopes.global||[]),!0===this$.extendStyle?(e=this$.csscopes).local=e.local.concat(this$.extend.csscopes.local||[]):"overwrite"===this$.extendDom?(e=this$.csscopes).local=e.local.concat(this$.extend.csscopes.local.slice(1)):void 0}).catch(function(e){return console.error("[@plotdb/block] init block {name: "+this$.name+", version: "+this$.version+", path: "+(this$.path||"")+"}",e),doc.createElement("div").innerText="failed",this$.interface={},this$.styleNode={},this$.factory=function(){return this},this$.dependencies=[],this$})},context:function(){return this._ctx},dom:function(){return this.node},_path:function(e){return null==e&&(e=""),this.manager.getUrl({ns:this.ns,name:this.name,version:this.version,path:this.path}).replace(/\/[^/]*$/,"/")+e},i18n:function(t){var e=this._id_t;return block.i18n.module.t([e+":"+t].concat(this.extends.map(function(e){return e._id_t+":"+t}),[t+""]))},create:function(t){var n=this;return null==t&&(t={}),this.init().then(function(){var e=new block.instance({block:n,ns:n.ns,name:n.name,path:n.path,version:n.version,data:t.data});return e.init().then(function(){if(t.root)return e.attach({root:t.root,before:t.before})}).then(function(){return e})})},resolvePlugAndCloneNode:function(n,e){var t;return(e=null==e?!1:e)?t=n:(t=this.dom().cloneNode(!0),n&&Array.from(t.querySelectorAll("plug")).map(function(e){var t=e.getAttribute("name"),t=n.querySelector(":scope :not([plug]) [plug="+t+"], :scope > [plug="+t+"]");if(t)return e.replaceWith(t)})),this.extend&&!1!==this.extendDom?"overwrite"===this.extendDom?this.extend.resolvePlugAndCloneNode(t,!0):this.extend.resolvePlugAndCloneNode(t):t}}),block.instance=function(e){var t=this;return this.ns=(e=null==e?{}:e).ns,this.name=e.name,this.version=e.version,this.path=e.path,this.block=e.block,this.data=e.data,this.init=proxise.once(function(){return t._init()}),this},block.instance.prototype=import$(Object.create(Object.prototype),{_init:function(){return this.block.init()},attach:function(e){var t,n,r,o,i,s,c,l;if(null==e&&(e={}),t=this._defered)return t.before?t.root.insertBefore(t.node,t.before):t.root.appendChild(t.node),Promise.resolve();if(e.data&&(this.data=e.data),t=(t=e.root)?"string"==typeof t?doc.querySelector(t):t:null,block.global.csscope.apply(this.block.csscopes.global),t){for(n=this.dom(e.root),r=[this.block].concat(this.block.extends),o=[this.block.scope],i=0,s=r.length-1;i<s;++i)if("overwrite"!==(l=r[c=i].extendStyle)){if(!1===l)break;o.push(r[c+1].scope)}n.setAttribute("scope",o.join(" ")),n.classList.add.apply(n.classList,this.block.csscopes.local.map(function(e){return e.scope}).concat(this.block.csscopes.global.map(function(e){return e.scope}))),e.defer?this._defered={node:n,root:t,before:e.before}:e.before?t.insertBefore(n,e.before):t.appendChild(n)}else n=null;return this.run({node:n,type:"init"})},detach:function(){var e=this.dom();return e.parentNode.removeChild(e),this.run({node:e,type:"destroy"})},interface:function(){for(var e,t,n=this.obj.length;0<=n;--n)if(e=n,t=(this.obj[e]||{}).interface)return t instanceof Function?t.apply(this.obj[e]):t;return null},update:function(e){return this.datadom.update(e)},_transform:function(e,l,u){var a=new RegExp("^"+l+"-(.+)$"),h=function(e){var t,n,r,o,i,s,c=[];if(e.nodeType===win.Element.TEXT_NODE)return e.parentNode.setAttribute(l,e.textContent),e.parentNode.replaceChild(doc.createTextNode(u(e.textContent)),e);for(t=0,n=e.attributes.length;t<n;++t)r=t,i=(o=e.attributes[r]).name,o=o.value,(i=a.exec(i))&&e.setAttribute(i[1],u(o||""));if(s=e.getAttribute(l))return e.textContent=u(s);for(t=0,n=e.childNodes.length;t<n;++t)r=t,c.push(h(e.childNodes[r]));return c},t=new WeakMap;return Array.from(e.querySelectorAll(":scope [scope] ["+l+"]")).map(function(e){return t.set(e,1)}),Array.from(e.querySelectorAll("["+l+"]")).filter(function(e){return!t.get(e)}).map(h),e},transform:function(e){var t=this;if("i18n"===e||"path"===e)return this._transform(this.node,"t",function(e){return t.i18n(e)}),this._transform(this.node,"path",function(e){return t._path(e)})},dom:function(e){var t;return(t=this.node)?t:(this.node=this.block.resolvePlugAndCloneNode(e),this.transform("i18n"),this.transform("path"))},_path:function(e){return this.block._path(e)},i18n:function(e){return this.block.i18n(e)},run:function(e){var a=this,h=e.node,p=e.type,t=[],d=[],n=this.block;for(this.obj||(this.obj=[]),this.pubsub||(this.pubsub=new pubsub);n;)t=[n].concat(t),n=n.extend;return new Promise(function(c,l){var u=function(e,t,n,r){var o,i,s;return null==t&&(t=0),null==n&&(n={}),(e=null==e?[]:e).length<=t?Promise.all(d).then(function(e){return c(e)}).catch(function(e){return l(e)}):(o=e[t],i=o._ctx.ctx?o._ctx.ctx():(i=o._ctx).local||(i.local={}),import$(n,i),i={root:h,parent:r,manager:a.block.manager,ctx:n,context:n,pubsub:a.pubsub,i18n:{getLanguage:function(){return block.i18n.language},addResourceBundles:function(e){var t,n,r=[];for(t in e=null==e?{}:e)n=e[t],r.push(block.i18n.addResourceBundle(t,a.block._id_t,n));return r},t:function(e){return a.block.i18n(e)}},t:function(e){return a.block.i18n(e)},path:function(e){return a._path(e)},data:a.data},"init"===p&&a.obj.push(s=new o.factory(a)),d.push((s=a.obj[t])?a.obj[t][p](i):null),u(e,t+1,n,s))};return u(t,0,{})})}}),block.env("undefined"!=typeof self&&null!==self?self:globalThis),"undefined"!=typeof module&&null!==module?module.exports=block:"undefined"!=typeof window&&null!==window&&(window.block=block)}.call(this);
