var lc,transport;lc={active:null},document.addEventListener("click",function(t){var e,n;if(e=ld$.parent(t.target,"[editable]"),lc.active!==e&&(lc.active&&lc.active.setAttribute("contenteditable",!1),lc.active=e,e))return e.setAttribute("contenteditable",!0),ld$.find(e,"[editable]").map(function(t){return t.setAttribute("contenteditable",!1)}),n=caretRange({node:e,x:t.clientX,y:t.clientY}),setCaret(n.range)}),(transport=function(t){var e,n=this;return null==t&&(t={}),this.opt=t,this.root=t.root,this.output=t.output,this.state={old:{},cur:{},tree:{}},e||(e=require("ot-json0")),root.addEventListener("input",function(){var t;return t=serialize(root),n.state.old=n.state.cur,n.state.cur=t,t=json0OtDiff(n.state.old,n.state.cur),t=e.type.apply(n.state.tree,t),deserialize(n.state.tree).then(function(t){var e;return e=t.node,this.output.innerHTML="",this.output.appendChild(e)})}),this})({root:ld$.find("#input",0),output:ld$.find("#output",0)});