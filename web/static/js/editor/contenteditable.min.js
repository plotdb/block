var lc,transport;lc={active:null},document.addEventListener("click",function(t){var e,n;if(e=ld$.parent(t.target,"[editable]"),lc.active!==e&&(lc.active&&lc.active.setAttribute("contenteditable",!1),lc.active=e,e))return e.setAttribute("contenteditable",!0),ld$.find(e,"[editable]").map(function(t){return t.setAttribute("contenteditable",!1)}),n=caretRange({node:e,x:t.clientX,y:t.clientY}),setCaret(n.range)}),(transport=function(t){var e,n,r=this;return null==t&&(t={}),this.opt=t,this.root=t.root,this.output=t.output,this.state={old:{},cur:{},tree:{}},e||(e=require("ot-json0")),n=debounce(500,function(){var t,n;return t=Date.now(),n=serialize(root),r.state.old=r.state.cur,r.state.cur=n,n=json0OtDiff(r.state.old,r.state.cur),n=e.type.apply(r.state.tree,n),deserialize(r.state.tree).then(function(e){var n,i;return n=e.node,r.output.innerHTML="",r.output.appendChild(n),i=Date.now(),console.log("elapsed: ",i-t)})}),root.addEventListener("input",function(){return n()}),this})({root:ld$.find("#input",0),output:ld$.find("#output",0)});